<!DOCTYPE html>
<html>
<!--
====================================================
    __  ____  ______________  _______ ___    __
   / / / /  |/  / ____/   \ \/ / ___//   |  / /
  / /_/ / /|_/ / /_  / /| |\  /\__ \/ /| | / /
 / __  / /  / / __/ / ___ |/ /___/ / ___ |/ /___
/_/ /_/_/  /_/_/   /_/  |_/_//____/_/  |_/_____/

====================================================
Owner Name: Hossain Mohammad Faysal
Profile: https://www.facebook.com/hmfaysal
Version: 1.1
Description: Awesome dude, awesome life
====================================================
-->
<head>
<meta charset="utf-8">
<title>Kolejność wykonywania działań w Ruby - Woman on Rails - web development z kobiecej perspektywy</title>
<meta name="description" content="Co powinnaś wiedzieć o regułach opuszczania nawiasów w Ruby?">
<meta name="keywords" content="Ruby">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://womanonrails.com/images/womanonrails.jpg">
<meta name="twitter:title" content="Kolejność wykonywania działań w Ruby">
<meta name="twitter:description" content="Co powinnaś wiedzieć o regułach opuszczania nawiasów w Ruby?">
<meta name="twitter:creator" content="@womanonrails">

<!-- Open Graph -->
<meta property="og:locale" content="pl">
<meta property="og:type" content="website">
<meta property="og:title" content="Kolejność wykonywania działań w Ruby">
<meta property="og:description" content="Co powinnaś wiedzieć o regułach opuszczania nawiasów w Ruby?">
<meta property="og:url" content="https://womanonrails.com/operator-precedence-ruby">
<meta property="og:site_name" content="Woman on Rails">
<meta property="og:image" content="https://womanonrails.com/images/womanonrails.jpg">

<!-- Icons -->
<!-- 16x16 -->
<link rel='shortcut icon' href="https://womanonrails.com/favicon.ico">
<!-- 32x32 -->
<link rel='shortcut icon' href="https://womanonrails.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel='apple-touch-icon-precomposed' href="https://womanonrails.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel='apple-touch-icon-precomposed' sizes='72x72' href="https://womanonrails.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel='apple-touch-icon-precomposed' sizes='114x114' href="https://womanonrails.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel='apple-touch-icon-precomposed' sizes='144x144' href="https://womanonrails.com/images/apple-touch-icon-144x144-precomposed.png">





<link rel="canonical" href="https://womanonrails.com/operator-precedence-ruby">
<link href="https://womanonrails.com/feed.xml" type="application/atom+xml" rel="alternate" title="Woman on Rails Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link rel="stylesheet" type="text/css" href="https://womanonrails.com/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="https://womanonrails.com/assets/css/style.css" />
    <link rel="stylesheet" href="/css/main.css">

<div class="search-wrapper">
    <div class="search-form">
        <input type="text" class="search-field" placeholder="Search...">
        <i class="icon-remove-sign"></i>
        <ul class="search-results post-list"></ul><!-- /.search-results -->
    </div><!-- /.search-form -->
</div><!-- ./search-wrapper -->



</head>
<body class="post-template" itemscope itemtype="https://schema.org/WebPage">
<div id="fade"></div>
<a id="slide" class="animated fade"></a>
<aside id="sidebar">
  <nav id="navigation">
    <h2>MENU</h2>
    <hr>
    <ul>
      
        
          <li>
            
              <a href="https://womanonrails.com/pl">Strona główna</a>
            
          </li>
        
          <li>
            
              <a href="https://womanonrails.com/pl/categories">Kategorie</a>
            
          </li>
        
          <li>
            
              <a href="https://womanonrails.com/pl/tags">Tagi</a>
            
          </li>
        
          <li>
            
              <a href="https://womanonrails.com/pl/about">O mnie</a>
            
          </li>
        
      
      <li>
        <a href="https://womanonrails.com/feed.xml" title="Atom/RSS feed">
          <i class="icon-rss"></i> Feed
        </a>
      </li>
    </ul>
    </nav>
</aside>


<header id="masthead" class="blog-background overlay align-center align-middle animated from-bottom" itemscope itemtype="https://schema.org/Organization">


    <button class="menu-button animated fade dosearch" title="Wyszukaj">
        <i class="icon-search"></i>
    </button>


  
  <a href="https://womanonrails.com/operator-precedence-ruby" class='language animated fade'>
    en
  </a>


    <div class="inner">
        <div class="container">
            
            <a class="brand" href="https://womanonrails.com/pl" role="banner" itemprop="url">
                <img itemprop="logo" src="https://womanonrails.com/images/womanonrails.jpg" alt="Woman on Rails Logo" />

            <h1 class="blog-title light" itemprop="name">
                Woman on Rails
            </h1>

            </a>
            <h2 class="blog-description light bordered bordered-top" itemprop="description">
                Premature optimization is the root of all evil.
            </h2>
        </div>
    </div>
    
    
    <div class="decor-wrapper">
        <svg id="header-decor" class="decor bottom" xmlns="https://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
            <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>

            <path class="medium left" d="M0 100 L50 50 L0 33.3" fill="rgba(255,255,255, .3)"></path>
            <path class="medium right" d="M100 100 L50 50 L100 33.3" fill="rgba(255,255,255, .3)"></path>

            <path class="small left" d="M0 100 L50 50 L0 66.6" fill="rgba(255,255,255, .5)"></path>
            <path class="small right" d="M100 100 L50 50 L100 66.6" fill="rgba(255,255,255, .5)"></path>

            <path d="M0 99.9 L50 49.9 L100 99.9 L0 99.9" fill="rgba(255,255,255, 1)"></path>

            <path d="M48 52 L50 49 L52 52 L48 52" fill="rgba(255,255,255, 1)"></path>

        </svg>
    </div>
    
</header>

<div id="main" class="content" role="main" itemprop="mainContentOfPage" itemscope itemtype="https://schema.org/Blog">
    <div class="container">
        <div class="row">
            <article class="post col-md-8 col-md-offset-2 hentry" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
            
            
            
            
                    <header class="post-header entry-header">
                        
                        <h1 class="post-title text-center hyper lighter bordered-bottom entry-title" itemprop="headline">Kolejność wykonywania działań w Ruby</h1>
                        
                        <div class="cursive" style="color: #000; font-style:italic;">Co powinnaś wiedzieć o regułach opuszczania nawiasów w Ruby?</div>
                        <div class="post-info text-center small">
                            <span class="entry-date date published updated"><time datetime="2019-03-25T00:00:00-04:00" class="post-time" itemprop="datePublished">25 Mar 2019</time><span>
                            in <span class="post-tags"><a href="https://womanonrails.com/categories/index.html#programowanie" data-toggle="tooltip" title="Other posts from the Programowanie category" rel="tag">Programowanie</a></span>&nbsp;<span class="post-tags"><i class="icon-time"></i>&nbsp;<span class="time">10.705</span> minutes read</span>
                        </div>
                    </header>
                    <div class="post-body bordered-bottom" itemprop="description">
                        
                        <p>Kolejność działań matematycznych w programowaniu jest bardzo ważna. Jeżeli nie znasz ich dobrze, możesz dostać całkowicie inny wynik, niż się spodziewasz. Twój program może nawet przestać działać. Dlatego warto znać zasady, na jakich jest oparta kolejność działań w programowaniu. W tym przypadku w języku Ruby. Czy powinnyśmy postępować zgodnie z zasadami jakich nauczyłyśmy się w szkole na lekcjach matematyki? A może wystarczy stosować kolejność od lewej do prawej? Sprawdźmy.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span>
 <span class="o">=&gt;</span> <span class="mi">6</span>
</code></pre></div>
<p>To wyrażenie nie jest równe 8. Jest równe 6. W tym przykładzie możesz zauważyć, że mnożenie jest na swój sposób <em>silniejsze</em> od dodawania. W takim przypadku mówimy, że mnożenie jest bardziej priorytetowe lub że ma <strong>wyższy priorytet</strong>. W języku angielskim powiemy <strong>higher operator precedence</strong>. Tak, to jest dokładnie tak samo, czego uczyłyśmy się w szkole. By pokazać to jeszcze bardziej dokładnie, spójrz na przykład poniżej:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
 <span class="o">=&gt;</span> <span class="mi">6</span>

<span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span>
 <span class="o">=&gt;</span> <span class="mi">8</span>
</code></pre></div>
<p>Dobrze, ale w programowaniu, w szczególności w języku Ruby, mamy więcej możliwych operacji. Skąd będziemy wiedzieć jaka jest ich kolejność? Z pomocą przychodzi nam <a href="https://ruby-doc.org/core-2.2.0/doc/syntax/precedence_rdoc.html" title="Dokumentacja Ruby - kolejność działań" target="_blank" rel="nofollow noopener noreferrer">dokumentacja Ruby</a>:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="o">!</span><span class="p">,</span> <span class="o">~</span><span class="p">,</span> <span class="n">unary</span> <span class="o">+</span>
<span class="o">**</span>
<span class="n">unary</span> <span class="o">-</span>
<span class="o">*</span><span class="p">,</span> <span class="sr">/, %</span>
<span class="sr">+, -</span>
<span class="sr">&lt;&lt;, &gt;&gt;</span>
<span class="sr">&amp;</span>
<span class="sr">|, ^</span>
<span class="sr">&gt;, &gt;=, &lt;, &lt;=</span>
<span class="sr">&lt;=&gt;, ==, ===, !=, =~, !~</span>
<span class="sr">&amp;&amp;</span>
<span class="sr">||</span>
<span class="sr">.., ...</span>
<span class="sr">?, :</span>
<span class="sr">modifier-rescue</span>
<span class="sr">=, +=, -=, etc.</span>
<span class="sr">defined?</span>
<span class="sr">not</span>
<span class="sr">or, and</span>
<span class="sr">modifier-if, modifier-unless, modifier-while, modifier-until</span>
<span class="sr">{ } blocks</span>
</code></pre></div>
<p>Jak widzisz tutaj <code>*</code> (czyli mnożenie), ma większy priorytet niż <code>+</code>.</p>

<h2>Przykłady</h2>

<h3>Operatory logiczne</h3>

<p>Zacznijmy od operatorów logicznych. Zobaczmy jak kolejność wykonywania działań wygląda w tym przypadku.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="mi">1</span> <span class="o">||</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="kp">nil</span>
 <span class="o">=&gt;</span> <span class="mi">1</span>

<span class="mi">1</span> <span class="ow">or</span> <span class="mi">2</span> <span class="ow">and</span> <span class="kp">nil</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>
</code></pre></div>
<p>Przy pierwszym spojrzeniu logika (nie zapis) wygląda dokładnie tak samo. Jednak, gdy przyjrzymy się bliżej, zauważymy pewne różnice. Jak można się domyślić, chodzi o kolejność działań. W pierwszym przypadku kolejność wygląda następująco: <code>(1 || (2 &amp;&amp; nil))</code>. Najpierw wykonujemy <code>2 &amp;&amp; nil</code> i dostajemy <code>nil</code>. Następnie wyrażenie to, upraszcza się nam do postaci <code>1 || nil</code>, z czego otrzymujemy <code>1</code>. W zasadzie, to trochę Cię tu oszukałam. Nasz interpreter jest <em>mądrzejszy</em> niż nam się mogło wydawać na początku. Wyrażenie logiczne zawierające <code>||</code> jest prawdziwe, gdy człon wyrażenia stojący po lewej stronie, jest prawdziwy. Dlatego w tym przypadku zostanie sprawdzona tylko pierwsza cześć warunku. O czym możesz przekonać się tutaj:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
 <span class="o">=&gt;</span> <span class="mi">0</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
 <span class="o">=&gt;</span> <span class="mi">1</span>

<span class="n">a</span>
 <span class="o">=&gt;</span> <span class="mi">1</span>
</code></pre></div>
<p>Przypisujemy do zmiennej <code>a</code> wartość <code>0</code>. I zaczynamy sprawdzać warunek razem z przypisaniem. Jeżeli druga część warunku byłaby wykonana, to na koniec <code>a</code> było by równe <code>2</code>. Tak się nie dzieje. Wywołanie prawej strony możemy uzyskać tylko w przypadku, gdy lewa strona nie jest prawdą.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="n">a</span> <span class="o">=</span> <span class="kp">false</span> <span class="o">||</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
 <span class="o">=&gt;</span> <span class="mi">2</span>

<span class="n">a</span>
 <span class="o">=&gt;</span> <span class="mi">2</span>
</code></pre></div>
<p>W drugim przypadku, gdy mamy do czynienia z <code>1 or 2 and nil</code>, kolejność działań jest inna: <code>((1 or 2) and nil)</code>. Najpierw sprawdzamy <code>1 or 2</code>. Jako wynik otrzymujemy <code>1</code>. Następnie sprawdzamy <code>1 and nil</code>, więc końcowy wynik jest <code>nil</code>.</p>

<p>By lepiej zrozumieć różnice pomiędzy tymi operatorami, przejrzyj poniższa tabelę wartość logicznych dla każdego możliwego przypadku:</p>

<table class='table'>
  <thead>
    <tr>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>a || b && c</th>
      <th>a or b and c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>false</code></td>
      <td><code>false</code></td>
      <td><code>false</code></td>
      <td><code>false</code></td>
      <td><code>false</code></td>
    </tr>
    <tr>
      <td><code>false</code></td>
      <td><code>false</code></td>
      <td><code>true</code></td>
      <td><code>false</code></td>
      <td><code>false</code></td>
    </tr>
    <tr>
      <td><code>false</code></td>
      <td><code>true</code></td>
      <td><code>false</code></td>
      <td><code>false</code></td>
      <td><code>false</code></td>
    </tr>
    <tr>
      <td><code>true</code></td>
      <td><code>false</code></td>
      <td><code>false</code></td>
      <td><strong><code>true</code></strong></td>
      <td><strong><code>false</code></strong></td>
    </tr>
    <tr>
      <td><code>true</code></td>
      <td><code>true</code></td>
      <td><code>false</code></td>
      <td><strong><code>true</code></strong></td>
      <td><strong><code>false</code></strong></td>
    </tr>
    <tr>
      <td><code>true</code></td>
      <td><code>false</code></td>
      <td><code>true</code></td>
      <td><code>true</code></td>
      <td><code>true</code></td>
    </tr>
    <tr>
      <td><code>false</code></td>
      <td><code>true</code></td>
      <td><code>true</code></td>
      <td><code>true</code></td>
      <td><code>true</code></td>
    </tr>
    <tr>
      <td><code>true</code></td>
      <td><code>true</code></td>
      <td><code>true</code></td>
      <td><code>true</code></td>
      <td><code>true</code></td>
    </tr>
  </tbody>
</table>

<p>W naszej tabeli są dwa przypadki gdzie można dostrzec różnice między operatorami <code>||</code> i <code>&amp;&amp;</code> a operatorami <code>or</code> i <code>and</code>.</p>

<h3>Przypisanie</h3>

<p>W najbliższych kilku przykładach będziemy krążyć wokół tematyki operatorów logicznych, ale zobaczymy też jak zachowują się one w stosunku do operatora przypisania:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="n">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="mi">2</span>
 <span class="o">=&gt;</span> <span class="mi">2</span>
<span class="n">foo</span>
 <span class="o">=&gt;</span> <span class="mi">2</span>

<span class="n">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="mi">2</span>
 <span class="o">=&gt;</span> <span class="mi">2</span>
<span class="n">foo</span>
 <span class="o">=&gt;</span> <span class="mi">1</span>
</code></pre></div>
<p>W obu przypadkach wartość końcowa wyrażenia jest <code>2</code>. Jednak to, co zostało przypisane do zmiennej <code>foo</code> różni się od siebie. W pierwszym przypadku <code>foo</code> jest równe <code>2</code>. Jest to związane oczywiście z kolejnością działań. Operator <code>&amp;&amp;</code> ma wyższy priorytet niż operator <code>=</code>. W tym przypadku mamy dokładnie:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="n">foo</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>W drugim przypadku jest na odwrót. To operator <code>=</code> ma wyższy priorytet niż <code>and</code>.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="p">(</span><span class="n">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="mi">2</span>
</code></pre></div>
<p>Podobne zachowanie zaobserwujemy dla <code>||</code> i <code>or</code>. Rożnica będzie widoczna tylko w przypadku, gdy po lewej stronie wyrażenia logicznego będzie wartość fałszywa np. <code>false</code>. Gdy będzie tam jednak jakaś wartość prawdziwa, nie zauważymy różnicy. Oto przykład:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="c1"># first part of condition is falsy</span>
<span class="n">foo</span> <span class="o">=</span> <span class="kp">false</span> <span class="o">||</span> <span class="mi">2</span>
 <span class="o">=&gt;</span> <span class="mi">2</span>
<span class="n">foo</span>
 <span class="o">=&gt;</span> <span class="mi">2</span>

<span class="n">foo</span> <span class="o">=</span> <span class="kp">false</span> <span class="ow">or</span> <span class="mi">2</span>
 <span class="o">=&gt;</span> <span class="mi">2</span>
<span class="n">foo</span>
 <span class="o">=&gt;</span> <span class="kp">false</span>

<span class="c1"># first part of condition is truthy</span>
<span class="n">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">||</span> <span class="mi">2</span>
 <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="n">foo</span>
 <span class="o">=&gt;</span> <span class="mi">1</span>

<span class="n">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="ow">or</span> <span class="mi">2</span>
 <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="n">foo</span>
 <span class="o">=&gt;</span> <span class="mi">1</span>
</code></pre></div>
<p>Chciałabym tutaj wyjaśnić, dlaczego w jednym z tych przypadków nie widzimy różnicy. Otóż, dla wyrażenia <code>foo = 1 || 2</code> rozkład nawiasów wygląda następująco: <code>foo = (1 || 2)</code>. Z warunku logicznego <code>||</code> otrzymujemy <code>1</code>. Co zostaje wpisane do zmiennej <code>foo</code>. W drugim przypadku <code>foo = 1 or 2</code>, najpierw realizowane jest przypisanie a dopiero później wyliczany jest warunek logiczny. Wynik jest ten sam, ale kolejność działań jest inna. Warto o tym pamiętać!</p>

<p>Na koniec tej sekcji, chciałabym pokazać Ci jeszcze jeden przykład. Moim zdaniem jest on bardzo interesujący. Dodatkowo jest odrobinę bardziej złożony od poprzedniego, ponieważ poza <code>=</code>, <code>&amp;&amp;</code>, <code>and</code> mamy jeszcze <code>&lt;&lt;</code>.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;2&#39;</span>

<span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">s</span> <span class="o">&lt;&lt;</span> <span class="s1">&#39;3&#39;</span>
 <span class="o">=&gt;</span> <span class="s2">&quot;23&quot;</span>

<span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;2&#39;</span>

<span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span> <span class="ow">and</span> <span class="n">s</span> <span class="o">&lt;&lt;</span> <span class="s1">&#39;3&#39;</span>
 <span class="o">=&gt;</span> <span class="s2">&quot;13&quot;</span>
</code></pre></div>
<p>Rozpracujmy go krok po korku. Wiemy już, że operator <code>&amp;&amp;</code> ma dość wysoki priorytet, jednak operator <code>&lt;&lt;</code> ma większy priorytet od <code>&amp;&amp;</code>. Kolejność działań będzie wyglądać następująco: <code>s = (&#39;1&#39; &amp;&amp; (s &lt;&lt; &#39;3&#39;))</code>. Na początek dopiszemy do zmiennej <code>s</code> wartość <code>&#39;3&#39;</code>. Dostaniemy wtedy wyrażenie <code>s = (&#39;1&#39; &amp;&amp; &#39;23&#39;)</code>, a w zmiennej <code>s</code> będzie <code>&#39;23&#39;</code>. Teraz wykonamy operację logiczną <code>&amp;&amp;</code>, z której otrzymamy wynik <code>23</code>. Nadpisze on w ten sposób bieżącą wartość zmiennej <code>s</code>, dokładnie tą samą wartością. Końcowy rezultat będzie równy właśnie <code>&#39;23&#39;</code>.</p>

<p>W drugim przypadku kolejność jest następująca: <code>(s = &#39;1&#39;) and (s &lt;&lt; &#39;3&#39;)</code>. Zaczynamy od przypisania. W zmiennej <code>s</code> zamiast <code>&#39;2&#39;</code> mamy teraz <code>&#39;1&#39;</code>. Następnie wykonujemy operację <code>&lt;&lt;</code> i w zmiennej <code>s</code> mamy <code>&#39;13&#39;</code>. Na koniec wykonuje się operacja logiczna <code>and</code> i otrzymujemy wynik <code>&#39;13&#39;</code>.</p>

<h3>Metody i operatory logiczne</h3>

<p>Pozostajemy w temacie operatorów logicznych. Tym razem sprawdzimy, co dzieje się, gdy połączymy je z metodami. W języku Ruby mamy możliwość opuszczenia nawiasów, nawet podczas wywołania metod. W takim przypadku też musimy pamiętać o kolejności działań. Tym razem konsekwencje błędu są jeszcze bardziej widoczne.</p>

<p>Zacznijmy od deklaracji naszej metody oraz pierwszego przykładu:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="c1"># declare method</span>
<span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">&quot;My char id </span><span class="si">#{</span><span class="n">char</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>

<span class="c1"># example 1</span>
<span class="nb">method</span> <span class="s1">&#39;a&#39;</span> <span class="o">||</span> <span class="s1">&#39;b&#39;</span>
<span class="no">My</span> <span class="n">char</span> <span class="nb">id</span> <span class="n">a</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>
</code></pre></div>
<p>W tym przypadku najpierw wywołany zostanie operator <code>||</code>. Wynikiem tego działania będzie <code>&#39;a&#39;</code>, które zostanie przekazane jako argument do metody i pojawi się w napisie widocznym na ekranie: <code>&quot;My char id a&quot;</code>. Ponieważ metoda zajmuje się tylko wypisaniem na ekran napisu i nic nie zwraca, jako końcowy efekt naszych działań zobaczymy <code>nil</code>. Ten szczegół przyda się nam w dalszych przykładach. Kolejność wykonywanych operacji jest taka: <code>method(&#39;a&#39; || &#39;b&#39;)</code>.</p>

<p>Przejdźmy do następnego przykładu:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="c1"># example 2</span>
<span class="nb">method</span> <span class="s1">&#39;a&#39;</span> <span class="o">&amp;&amp;</span> <span class="s1">&#39;b&#39;</span>
<span class="no">My</span> <span class="n">char</span> <span class="nb">id</span> <span class="n">b</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>
</code></pre></div>
<p>W tym przypadku, kolejność działań jest taka sama: <code>method(&#39;a&#39; &amp;&amp; &#39;b&#39;)</code>. Najpierw operator <code>&amp;&amp;</code> a dopiero później wywołanie metody z argumentem <code>&#39;b&#39;</code>. To dlatego widzimy <code>&#39;b&#39;</code> w wyświetlonym napisie. Ponieważ metoda zwraca <code>nil</code>, to końcowym wynikiem jest właśnie <code>nil</code></p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="c1"># example 3</span>
<span class="nb">method</span> <span class="s1">&#39;a&#39;</span> <span class="ow">or</span> <span class="s1">&#39;b&#39;</span>
<span class="no">My</span> <span class="n">char</span> <span class="nb">id</span> <span class="n">a</span>
 <span class="o">=&gt;</span> <span class="s2">&quot;b&quot;</span>
</code></pre></div>
<p>W trzecim przykładzie mamy do czynienia z innym zachowaniem. Dla operatora <code>or</code> kolejność działań jest: <code>method(&#39;a&#39;) or &#39;b&#39;</code>. Widzimy, że najpierw wykonujemy metodę, wyświetlamy tekst zawierający <code>&#39;a&#39;</code>, a dopiero na koniec zajmujemy się operatorem logicznym <code>or</code>. Ponieważ nasza ostatnia operacja wygląda tak: <code>nil or &#39;b&#39;</code>, to ostatecznym wynikiem będzie <code>&#39;b&#39;</code>, a nie <code>nil</code> jak w poprzednich przykładach.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="c1"># example 4</span>
<span class="nb">method</span> <span class="s1">&#39;a&#39;</span> <span class="ow">and</span> <span class="s1">&#39;b&#39;</span>
<span class="no">My</span> <span class="n">char</span> <span class="nb">id</span> <span class="n">a</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>
</code></pre></div>
<p>W czwartym przypadku mamy podobne zachowanie jak w trzecim. Wyrażenie z nawiasami wygląda tak: <code>method(&#39;a&#39;) and &#39;b&#39;</code>. Wyświetla się napis <code>&quot;My char id a&quot;</code>, ze względu na argument metody równy <code>&#39;a&#39;</code>. Dalej metoda zwraca <code>nil</code>, więc końcowy rezultat po sprawdzeniu warunku logicznego jest <code>nil</code>.</p>

<p>Teraz chciałabym Ci pokazać bardzo ważny przykład. Na początek zadeklarujmy dwie metody: jedną bez argumentów a drugą z jednym argumentem.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="k">def</span> <span class="nf">method1</span>
  <span class="nb">puts</span> <span class="s1">&#39;Call Method 1&#39;</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">method2</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">&quot;Call Method 2 with </span><span class="si">#{</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
</code></pre></div>
<p>A teraz sprawdzimy, co się stanie w przypadku użycia tych metod z <code>or</code> i <code>||</code>.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="n">method1</span> <span class="ow">or</span> <span class="n">method2</span> <span class="s1">&#39;foo&#39;</span>
<span class="no">Call</span> <span class="no">Method</span> <span class="mi">1</span>
<span class="no">Call</span> <span class="no">Method</span> <span class="mi">2</span> <span class="n">with</span> <span class="n">foo</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>
</code></pre></div>
<p>Pierwszy przypadek wygląda OK. Wywołujemy metodę <code>method1</code>, która wyświetla <code>&quot;Call Method 1&quot;</code> i zwraca <code>nil</code>. Później wywołujemy metodę <code>method2</code> z argumentem <code>&#39;foo&#39;</code>. Wyświetla tekst i zwraca <code>nil</code>. Kolejność działań wygląda następująco: <code>method1() or method2(&#39;foo&#39;)</code>. Wszystko jest dobrze. Przejdźmy teraz do drugiego przypadku:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="n">method1</span> <span class="o">||</span> <span class="n">method2</span> <span class="s1">&#39;foo&#39;</span>
<span class="no">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="mi">1</span><span class="p">:</span> <span class="n">from</span> <span class="sr">/home/</span><span class="n">agnieszka</span><span class="o">/.</span><span class="n">rvm</span><span class="o">/</span><span class="n">rubies</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="mi">2</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">3</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="ss">irb</span><span class="p">:</span><span class="mi">11</span><span class="ss">:in</span> <span class="sb">`&lt;main&gt;&#39;</span>
<span class="sb">SyntaxError ((irb):32: syntax error, unexpected tSTRING_BEG, expecting keyword_do or &#39;{&#39; or &#39;(&#39;)</span>
<span class="sb">method1 || method2 &#39;foo&#39;</span>
<span class="sb">                   ^</span>
</code></pre></div>
<p>Coś ewidentnie poszło nie tak. Problem wynika z kolejności działań. Oto jak kolejność wygląda w tym przypadku: <code>(method1 || method2) &#39;foo&#39;</code>. By pokazać, co się dokładnie dzieje, zapiszemy to tak: <code>(method1() || method2()) &#39;foo&#39;</code>. Nasz interpreter nie wie, co zrobić z dwóch powodów. Po pierwsze, <code>method2</code> powinna mieć jeden argument a nie ma. Po drugie, w naszym wyrażeniu pojawia się <em>wolno stojący</em> napis <code>&#39;foo&#39;</code>. Nie jest on połączony z resztą wyrażenia operatorem czy metodą, stąd błąd który dostajemy. By naprawić ten problem trzeba wprost napisać, o co nam chodzi: <code>method1 || method2(&#39;foo&#39;)</code>.</p>

<p>To samo zachowanie interpretera możemy obserwować w przypadku konkretnych metod. Takich jak: <code>raise</code> czy <code>return</code>. Zapraszam Cię do samodzielnego sprawdzenia wyników.</p>

<h3>Bloki</h3>

<p>Czas na zajęcie się blokami (ang. blocks). Musimy być świadome, że <strong>blok <code>{}</code> ma większy priorytet, niż blok <code>do ... end</code></strong>. Nie zobaczymy tego w naszej tabeli z kolejnością operacji w języku Ruby. W dokumentacji jest jednak mała informacja na ten temat. Sprawdźmy to! Zdefiniujemy dwie metody. Jedną z nich wywołamy z blokiem <code>{}</code> a drugą z <code>do ... end</code>. </p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">options</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">&quot;Foo has block: </span><span class="si">#{</span><span class="nb">block_given?</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="n">options</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">&quot;Bar has block: </span><span class="si">#{</span><span class="nb">block_given?</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>

<span class="n">foo</span> <span class="ss">a</span><span class="p">:</span> <span class="n">bar</span> <span class="p">{</span> <span class="mi">1</span> <span class="p">}</span>
<span class="no">Bar</span> <span class="n">has</span> <span class="ss">block</span><span class="p">:</span> <span class="kp">true</span>
<span class="no">Foo</span> <span class="n">has</span> <span class="ss">block</span><span class="p">:</span> <span class="kp">false</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>

<span class="n">foo</span> <span class="ss">a</span><span class="p">:</span> <span class="n">bar</span> <span class="k">do</span> <span class="mi">1</span> <span class="k">end</span>
<span class="no">Bar</span> <span class="n">has</span> <span class="ss">block</span><span class="p">:</span> <span class="kp">false</span>
<span class="no">Foo</span> <span class="n">has</span> <span class="ss">block</span><span class="p">:</span> <span class="kp">true</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>
</code></pre></div>
<p>W pierwszym przypadku kolejność jest: <code>foo(a: (bar { 1 }))</code>. Najpierw wywołujemy metodę <code>bar</code> z blokiem. Po wywołaniu zwróci ona <code>nil</code>. Nasze wyrażenie uprości się w tym momencie do <code>foo(a: nil)</code>. Metoda <code>foo</code> zostanie wywołana z argumentem w postaci hasha, ale bez bloku. </p>

<p>W drugim przypadku kolejność wygląda następująco: <code>foo(a: bar) do 1 end</code>. Będzie przejrzyściej, gdy podzielimy sobie to wyrażenie na osobne linie:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="n">foo</span><span class="p">(</span><span class="ss">a</span><span class="p">:</span> <span class="n">bar</span><span class="p">)</span> <span class="k">do</span>
  <span class="mi">1</span>
<span class="k">end</span>
</code></pre></div>
<p>Na początku wywoływana jest metoda <code>bar</code> bez argumentów i również bez bloku. Dlatego widzimy tekst: <code>&quot;Bar has block: false&quot;</code>. Później wywołana zostaje metoda <code>foo</code> z argumentem <code>{ a: nil }</code> jako <code>options</code> oraz z blokiem. W naszym przykładzie mogłybyśmy całkowicie pominąć argument <code>options</code>. Działanie kodu będzie takie same. Przynajmniej jeżeli chodzi o wyświetlane napisy. Sprawdź sama: <code>foo bar { 1 }</code> oraz <code>foo bar do 1 end</code>.</p>

<h3>Inne przykłady</h3>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="n">array</span> <span class="o">=</span> <span class="o">[]</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">array</span> <span class="o">&lt;&lt;</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
 <span class="o">=&gt;</span> <span class="o">[</span><span class="mi">3</span><span class="o">]</span>
</code></pre></div>
<p>Ten przypadek zachowuje się tak, jakbyśmy tego oczekiwały. Najpierw wywołana jest suma <code>a</code> i <code>b</code>, a dopiero później wynik jest wstawiany do tablicy za pomocą operatora <code>&lt;&lt;</code>. Jak wynika z naszej tabeli <code>+</code> ma większy priorytet od <code>&lt;&lt;</code>.</p>

<p>W następnym przykładzie też wszystko wykona się po naszej myśli. Operatory <code>+=</code> i <code>*=</code> mają niższy priorytet od <code>+</code> i <code>*</code>. Dlatego możemy pominąć nawiasy:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">multiply</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">sum</span> <span class="o">+=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
 <span class="o">=&gt;</span> <span class="mi">3</span>
<span class="n">sum</span>
 <span class="o">=&gt;</span> <span class="mi">3</span>

<span class="n">multiply</span> <span class="o">*=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
 <span class="o">=&gt;</span> <span class="mi">2</span>
<span class="n">multiply</span>
 <span class="o">=&gt;</span> <span class="mi">2</span>
</code></pre></div>
<p>A teraz jak wygląda priorytet dla zakresów. Ponieważ <code>+</code> i <code>-</code> mają wyższy priorytet, nawiasy są nam nie potrzebne:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">9</span>
 <span class="o">=&gt;</span> <span class="mi">9</span>

<span class="mi">1</span><span class="o">..</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
 <span class="o">=&gt;</span> <span class="mi">1</span><span class="o">..</span><span class="mi">8</span>

<span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span>
 <span class="o">=&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="o">]</span>
</code></pre></div>
<p>To jak zrobienie: <code>1..(n - 1)</code>.</p>

<h2>Podsumowanie</h2>

<ul>
<li>Bądź świadoma kolejności działań w języku Ruby.</li>
<li>Jeżeli nie jesteś pewna kolejności, dodaj nawiasy, a najlepiej sprawdź w dokumentacji. Napisz też testy. ;]</li>
<li>Czasami, nawet jeżeli wiem, jaka jest kolejność wykonywania działań w Ruby, wolę zostawić nawiasy dla większej czytelności. Tak jak w tym przypadku: <code>method(&#39;a&#39; &amp;&amp; &#39;b&#39;)</code>. Wiem, że mogę zrobić tak: <code>method &#39;a&#39; &amp;&amp; &#39;b&#39;</code>. To poprawna notacja i robi dokładnie to co chcę, jednak wole zostawić nawiasy. Jest to podejście w stylu <strong>&quot;Tell don&#39;t ask&quot;</strong>.</li>
</ul>

<p>To tyle na dzisiaj. Jeżeli znasz inne ciekawe przykłady z kolejnością działań w Ruby, podziel się w komentarzu. Dzięki i do zobaczenia następnym razem!</p>

                        <br>
                    
                    
                    <div class="entry-tags text-center">

                        <i class="icon-tags"></i>&nbsp;Tagged with <a href="https://womanonrails.com/tags/index.html#Ruby" data-toggle="tooltip" title="Posts tagged with Ruby" rel="tag">Ruby</a>

                    </div>
                    
                    </div>
        </div>
                    <footer class="post-footer entry-meta">
                        <div class="post-share text-center">
    <p class="light small">
        Share this post
    </p>
    <ul class="social-mini">
        <li>
            <a href="https://twitter.com/intent/tweet?text=&quot;Kolejność wykonywania działań w Ruby&quot;%20https://womanonrails.com/operator-precedence-ruby%20via%20&#64;womanonrails"
            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" data-toggle="tooltip" title="Share on Twitter" itemprop="Twitter">
                <i class="icon-twitter"></i>
            </a>
        </li>
        <li>
            <a  href="https://www.facebook.com/sharer/sharer.php?u=https://womanonrails.com/operator-precedence-ruby"
            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" data-toggle="tooltip" title="Share on Facebook" itemprop="Facebook">
                <i class="icon-facebook"></i>
            </a>
        </li>
        <li>
            <a href="https://plus.google.com/share?url=https://womanonrails.com/operator-precedence-ruby"
           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" data-toggle="tooltip" title="Share on Google plus" itemprop="GooglePlus">
                <i class="icon-google-plus"></i>
            </a>
        </li>
    </ul>
</div>
                        <div class="post-author text-center">
	        <img src="https://womanonrails.com/images/womanonrails.jpg" alt="Agnieszka Matysek's photo" itemprop="image" class="post-avatar img-circle img-responsive"/>
	    <h4 class="bordered-bottom vcard author" itemprop="author" itemscope itemtype="https://schema.org/Person">By <span itemprop="name" class="fn"><a href="https://womanonrails.com/about" title="About Agnieszka Matysek" itemprop="url">Agnieszka Matysek</a></span></h4>
	    <p>Woman, programmer, mentor, speaker, photographer and dancer with passion.</p>
</div>

                        <div id="disqus_thread"></div><!-- /#disqus_thread -->
                    </footer>
            </article>
    </div>
</div>
<footer id="footer"  class="blog-background overlay text-center align-middle animated from-top">

    <div class="inner">
        <div class="container">

            <ul class="social-icons">
            <li>
                <a href="https://twitter.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Twitter" target="_blank" rel="noopener">
                    <i class="icon-twitter"></i>
                </a>
            </li>
            <li>
                <a href="https://facebook.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Facebook" target="_blank" rel="noopener">
                    <i class="icon-facebook"></i>
                </a>
            </li>
            
            <li>
                <a href="https://stackoverflow.com/users/2885676/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on StackExchange" target="_blank" rel="noopener">
                    <i class="icon-stackexchange"></i>
                </a>
            </li>
            <li>
                <a href="https://linkedin.com/in/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on LinkedIn" target="_blank" rel="noopener">
                    <i class="icon-linkedin"></i>
                </a>
            </li>
            <li>
                <a href="https://instagram.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Instagram" target="_blank" rel="noopener">
                    <i class="icon-instagram"></i>
                </a>
            </li>
            
            <li>
                <a href="https://github.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Github" target="_blank" rel="noopener">
                    <i class="icon-github"></i>
                </a>
            </li>
        </ul>
            <div>
                
                <a href="https://womanonrails.com/pl/about">Agnieszka Matysek</a> &copy; 2019 &bull; All rights reserved.
            </div>
            <ul class="menu-items">
            
            <li>
                
                    <a href="https://womanonrails.com/"><i class="icon-home"></i></a>&nbsp;&bull;
                
            </li>
            
            <li>
                
                    <a href="https://womanonrails.com/categories">Categories</a>&nbsp;&bull;
                
            </li>
            
            <li>
                
                    <a href="https://womanonrails.com/tags">Tags</a>&nbsp;&bull;
                
            </li>
            
            <li>
                
                    <a href="https://womanonrails.com/about">About</a>&nbsp;&bull;
                
            </li>
            
            <li><a href="https://womanonrails.com/feed.xml" title="Atom/RSS feed"><i class="icon-rss"></i> Feed</a></li>
        </ul>
        </div>
    </div>
    
        <div class="decor-wrapper">
            <svg id="footer-decor" class="decor top" xmlns="https://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">

                <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
                <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>

                <path class="medium left" d="M0 0 L50 50 L0 66.6" fill="rgba(255,255,255, .3)"></path>
                <path class="medium right" d="M100 0 L50 50 L100 66.6" fill="rgba(255,255,255, .3)"></path>

                <path class="small left" d="M0 0 L50 50 L0 33.3" fill="rgba(255,255,255, .5)"></path>
                <path class="small right" d="M100 0 L50 50 L100 33.3" fill="rgba(255,255,255, .5)"></path>

                <path d="M0 0 L50 50 L100 0 L0 0" fill="rgba(255,255,255, 1)"></path>

                <path d="M48 48 L50 51 L52 48 L48 48" fill="rgba(255,255,255, 1)"></path>

            </svg>
        </div>
    
</footer>
<script>
  (function(h,o,t,j,a,r){
    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
    h._hjSettings={hjid:157104,hjsv:5};
    a=o.getElementsByTagName('head')[0];
    r=o.createElement('script');r.async=1;
    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
    a.appendChild(r);
  })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="https://womanonrails.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="https://womanonrails.com/assets/js/scripts.min.js"></script>
<script type="text/javascript" src="https://womanonrails.com/assets/js/waypoints.min.js"></script>
<script type="text/javascript" src="https://womanonrails.com/assets/js/script.js"></script>
<script type='text/javascript'>$(document).ready(function(){$(".time").text(function(a,b){return Math.round(parseFloat(b))})});</script>

<script type="text/javascript">

/*      Slides       */

$("a#slide").click(function(){
    $("#sidebar,body,a#slide,#fade").addClass("slide")
});

$("#fade,#header,#posts-container").click(function(){
    $("#sidebar,body,a#slide,#fade").removeClass("slide")
});

$("a#click-filter").click(function(){
    $("#slide-filter").slideToggle("medium");
    $("#slide-pages").slideOut("medium");
});

$("a#click-pages").click(function(){
    $("#slide-pages").slideToggle("medium");
    $("#slide-filter").slideOut("medium");
});

/*      End-Slides      */

</script>


<!-- Jekyll Simple Search option -->
<script>
  $(document).ready(function() {
      $('.search-field').simpleJekyllSearch({
          jsonFile : 'https://womanonrails.com/search.json',
          searchResults : '.search-results',
          template : '<li><article><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></article></li>',
          noResults: '<p>Nothing found.</p>'
        });
  });

  (function( $, window, undefined ) {

     var bs = {
          close: $(".icon-remove-sign"),
          searchform: $(".search-form"),
          canvas: $("body"),
          dothis: $('.dosearch')
      };

    bs.dothis.on('click', function() {
      $('.search-wrapper').css({ display: "block" });
      bs.searchform.toggleClass('active');
      bs.searchform.find('input').focus();
      bs.canvas.toggleClass('search-overlay');
    });

      bs.close.on('click', function() {
        $('.search-wrapper').removeAttr( 'style' );
        bs.searchform.toggleClass('active');
        bs.canvas.removeClass('search-overlay');
    });
  })( jQuery, window );
</script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-127731573-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-127731573-1');
</script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'womanonrails'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</body>
</html>
