<!DOCTYPE html>
<html>
<!--
====================================================
    __  ____  ______________  _______ ___    __
   / / / /  |/  / ____/   \ \/ / ___//   |  / /
  / /_/ / /|_/ / /_  / /| |\  /\__ \/ /| | / /
 / __  / /  / / __/ / ___ |/ /___/ / ___ |/ /___
/_/ /_/_/  /_/_/   /_/  |_/_//____/_/  |_/_____/

====================================================
Owner Name: Hossain Mohammad Faysal
Profile: https://www.facebook.com/hmfaysal
Version: 1.1
Description: Awesome dude, awesome life
====================================================
-->
<head>
<meta charset="utf-8">
<title>Leaflet - Wstęp do map - Woman on Rails - web development z kobiecej perspektywy</title>
<meta name="description" content="Open-source biblioteka JavaScript do obsługi interaktywnych map">
<meta name="keywords" content="JavaScript, GIS">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://womanonrails.com/images/womanonrails-square.svg">
<meta name="twitter:title" content="Leaflet - Wstęp do map">
<meta name="twitter:description" content="Open-source biblioteka JavaScript do obsługi interaktywnych map">
<meta name="twitter:creator" content="@womanonrails">

<!-- Open Graph -->
<meta property="og:locale" content="pl">
<meta property="og:type" content="website">
<meta property="og:title" content="Leaflet - Wstęp do map">
<meta property="og:description" content="Open-source biblioteka JavaScript do obsługi interaktywnych map">
<meta property="og:url" content="https://womanonrails.com/leaflet">
<meta property="og:site_name" content="Woman on Rails">
<meta property="og:image" content="https://womanonrails.com/images/womanonrails-1000x1000.jpg">

<!-- Icons -->
<!-- 16x16 -->
<link rel='shortcut icon' href="https://womanonrails.com/favicon.ico">
<!-- 32x32 -->
<link rel='shortcut icon' href="https://womanonrails.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel='apple-touch-icon-precomposed' href="https://womanonrails.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel='apple-touch-icon-precomposed' sizes='72x72' href="https://womanonrails.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel='apple-touch-icon-precomposed' sizes='114x114' href="https://womanonrails.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel='apple-touch-icon-precomposed' sizes='144x144' href="https://womanonrails.com/images/apple-touch-icon-144x144-precomposed.png">





<link rel="canonical" href="https://womanonrails.com/leaflet">
<link href="https://womanonrails.com/feed.xml" type="application/atom+xml" rel="alternate" title="Woman on Rails Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link rel="stylesheet" type="text/css" href="https://womanonrails.com/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="https://womanonrails.com/assets/css/style.css" />
    <link rel="stylesheet" href="/css/main.css">

<div class="search-wrapper">
    <div class="search-form">
        <input type="text" class="search-field" placeholder="Search...">
        <i class="icon-remove-sign"></i>
        <ul class="search-results post-list"></ul><!-- /.search-results -->
    </div><!-- /.search-form -->
</div><!-- ./search-wrapper -->



</head>
<body class="post-template" itemscope itemtype="https://schema.org/WebPage">
<div id="fade"></div>
<a id="slide" class="animated fade"></a>
<aside id="sidebar">
  <nav id="navigation">
    <h2>MENU</h2>
    <hr>
    <ul>
      
        
          <li>
            
              <a href="https://womanonrails.com/pl">Strona główna</a>
            
          </li>
        
          <li>
            
              <a href="https://womanonrails.com/pl/categories">Kategorie</a>
            
          </li>
        
          <li>
            
              <a href="https://womanonrails.com/pl/tags">Tagi</a>
            
          </li>
        
          <li>
            
              <a href="https://womanonrails.com/pl/about">O mnie</a>
            
          </li>
        
      
      <li>
        <a href="https://womanonrails.com/feed.xml" title="Atom/RSS feed">
          <i class="icon-rss"></i> Feed
        </a>
      </li>
    </ul>
    </nav>
</aside>


<header id="masthead" class="blog-background overlay align-center align-middle animated from-bottom" itemscope itemtype="https://schema.org/Organization">


    <button class="menu-button animated fade dosearch" title="Wyszukaj">
        <i class="icon-search"></i>
    </button>


  
  <a href="https://womanonrails.com/leaflet" class='language animated fade'>
    en
  </a>


    <div class="inner">
        <div class="container">
            
            <a class="brand" href="https://womanonrails.com/pl" role="banner" itemprop="url">
                <img itemprop="logo" src="https://womanonrails.com/images/womanonrails-square.svg" alt="Woman on Rails Logo" />

            <h1 class="blog-title light" itemprop="name">
                Woman on Rails
            </h1>

            </a>
            <h2 class="blog-description light bordered bordered-top" itemprop="description">
                Premature optimization is the root of all evil.
            </h2>
        </div>
    </div>
    
    
    <div class="decor-wrapper">
        <svg id="header-decor" class="decor bottom" xmlns="https://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
            <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>

            <path class="medium left" d="M0 100 L50 50 L0 33.3" fill="rgba(255,255,255, .3)"></path>
            <path class="medium right" d="M100 100 L50 50 L100 33.3" fill="rgba(255,255,255, .3)"></path>

            <path class="small left" d="M0 100 L50 50 L0 66.6" fill="rgba(255,255,255, .5)"></path>
            <path class="small right" d="M100 100 L50 50 L100 66.6" fill="rgba(255,255,255, .5)"></path>

            <path d="M0 99.9 L50 49.9 L100 99.9 L0 99.9" fill="rgba(255,255,255, 1)"></path>

            <path d="M48 52 L50 49 L52 52 L48 52" fill="rgba(255,255,255, 1)"></path>

        </svg>
    </div>
    
</header>

<div id="main" class="content" role="main" itemprop="mainContentOfPage" itemscope itemtype="https://schema.org/Blog">
    <div class="container">
        <div class="row">
            <article class="post col-md-8 col-md-offset-2 hentry" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
            
            
            
            
                    <header class="post-header entry-header">
                        
                        <h1 class="post-title text-center hyper lighter bordered-bottom entry-title" itemprop="headline">Leaflet - Wstęp do map</h1>
                        
                        <div class="cursive" style="color: #000; font-style:italic;">Open-source biblioteka JavaScript do obsługi interaktywnych map</div>
                        <div class="post-info text-center small">
                            <span class="entry-date date published updated"><time datetime="2016-08-13T00:00:00-04:00" class="post-time" itemprop="datePublished">13 Aug 2016</time><span>
                            in <span class="post-tags"><a href="https://womanonrails.com/categories/index.html#programowanie" data-toggle="tooltip" title="Other posts from the Programowanie category" rel="tag">Programowanie</a></span>&nbsp;<span class="post-tags"><i class="icon-time"></i>&nbsp;<span class="time">3.355</span> minutes read</span>
                        </div>
                    </header>
                    <div class="post-body bordered-bottom" itemprop="description">
                        
                        <p>Jestem z powrotem! Tym razem chciałabym pokazać Wam trochę map. Dzisiejszym tematem będzie: Jak w prosty sposób można obsłużyć mapy na własnej stronie internetowej. Do tego potrzebne nam będzie:</p>

<ol>
  <li><a href="https://leafletjs.com/">Leaflet</a> - biblioteka JavaScript do obsługi map</li>
  <li>Fragmenty mapy (Maps tiles)</li>
  <li>Ruby on Rails (nie jest wymagany, na początek wystarczy strona <strong>html</strong>)</li>
</ol>

<p>Zacznijmy od początku. Co to są <strong>map tiles</strong>? Prostymi słowami, są to małe kwadratowe obrazki zawierające wygląd naszej mapy. Są one przygotowywane w postaci paczek, by można było na stronie wyświetlić większy fragment mapy.</p>

<h2 id="skąd-możemy-dostać-takie-fragmenty-mapy">Skąd możemy dostać takie fragmenty mapy?</h2>

<p>Można zarejestrować się na stronie <a href="https://www.mapbox.com/">Mapbox</a> i skorzystać z ich darmowego pakietu do obsługi map lub użyć <a href="https://openstreetmap.org">OpenStreetMap</a>. Jest wiele serwisów, które dostarczają map tiles, na końcu tego artykułu postaram się wymienić kilka z nich.</p>

<h2 id="przygotowania">Przygotowania</h2>

<p>Gdy w naszym projekcie mamy już dołączoną bibliotekę <strong>Leaflet</strong> i wybraliśmy z jakich talii będziemy korzystać możemy zacząć.</p>

<p>W naszym pliku <code class="highlighter-rouge">index.html</code> dodajemy następująca linijkę:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">'map'</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre>
</div>

<p>Po stronie JavaScript potrzebujemy jeszcze ustawić wybranego dostawcę map tiles. W tym przykładzie będę używać CoffeeScript ale każda z prezentowanych funkcjonalności jest też możliwa do osiągnięcia w czystym JavaScript.</p>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">jQuery</span> <span class="o">-&gt;</span>
  <span class="nx">map</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="s">'map'</span><span class="p">).</span><span class="na">setView</span><span class="p">([</span><span class="mf">50.301</span><span class="p">,</span> <span class="mf">18.654</span><span class="p">],</span> <span class="mi">13</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="mapbox-tiles">Mapbox tiles</h4>

<figure>
  <a href="/images/leaflet/mapbox.png"><img src="/images/leaflet/mapbox.png" /></a>
</figure>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code>  <span class="nx">L</span><span class="p">.</span><span class="na">tileLayer</span><span class="p">(</span><span class="s">'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}'</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">attribution</span><span class="o">:</span> <span class="s">'Map data &amp;copy; &lt;a href="http://openstreetmap.org"&gt;OpenStreetMap&lt;/a&gt; contributors, &lt;a href="http://creativecommons.org/licenses/by-sa/2.0/"&gt;CC-BY-SA&lt;/a&gt;, Imagery © &lt;a href="http://mapbox.com"&gt;Mapbox&lt;/a&gt;'</span><span class="p">,</span>
      <span class="na">maxZoom</span><span class="o">:</span> <span class="mi">18</span><span class="p">,</span>
      <span class="na">id</span><span class="o">:</span> <span class="s">'your id'</span><span class="p">,</span>
      <span class="na">accessToken</span><span class="o">:</span> <span class="s">'your token'</span>
  <span class="p">}).</span><span class="na">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="openstreetmap-tiles">OpenStreetMap tiles</h4>

<figure>
  <a href="/images/leaflet/osm.png"><img src="/images/leaflet/osm.png" /></a>
</figure>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code>  <span class="nx">L</span><span class="p">.</span><span class="na">tileLayer</span><span class="p">(</span><span class="s">'http://{s}.tile.osm.org/{z}/{x}/{y}.png'</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">attribution</span><span class="o">:</span> <span class="s">'Map data &amp;copy; &lt;a href="http://openstreetmap.org"&gt;OpenStreetMap&lt;/a&gt; contributors, &lt;a href="http://creativecommons.org/licenses/by-sa/2.0/"&gt;CC-BY-SA&lt;/a&gt;'</span><span class="p">,</span>
      <span class="na">maxZoom</span><span class="o">:</span> <span class="mi">18</span>
  <span class="p">}).</span><span class="na">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="toner-tiles">Toner tiles</h4>

<figure>
  <a href="/images/leaflet/toner.png"><img src="/images/leaflet/toner.png" /></a>
</figure>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code>  <span class="nx">L</span><span class="p">.</span><span class="na">tileLayer</span><span class="p">(</span><span class="s">'http://tile.stamen.com/toner/{z}/{x}/{y}.png'</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">attribution</span><span class="o">:</span> <span class="s">'Map tiles by &lt;a href="http://stamen.com"&gt;Stamen Design&lt;/a&gt;, under &lt;a href="http://creativecommons.org/licenses/by/3.0"&gt;CC BY 3.0&lt;/a&gt;. Data by &lt;a href="http://openstreetmap.org"&gt;OpenStreetMap&lt;/a&gt;, under &lt;a href="http://www.openstreetmap.org/copyright"&gt;ODbL&lt;/a&gt;.'</span><span class="p">,</span>
      <span class="na">maxZoom</span><span class="o">:</span> <span class="mi">18</span>
  <span class="p">}).</span><span class="na">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="watercolor-tiles">WaterColor tiles</h4>

<figure>
  <a href="/images/leaflet/watercolor.png"><img src="/images/leaflet/watercolor.png" /></a>
</figure>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code>  <span class="nx">L</span><span class="p">.</span><span class="na">tileLayer</span><span class="p">(</span><span class="s">'http://tile.stamen.com/watercolor/{z}/{x}/{y}.png'</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">attribution</span><span class="o">:</span> <span class="s">'Map tiles by &lt;a href="http://stamen.com"&gt;Stamen Design&lt;/a&gt;, under &lt;a href="http://creativecommons.org/licenses/by/3.0"&gt;CC BY 3.0&lt;/a&gt;. Data by &lt;a href="http://openstreetmap.org"&gt;OpenStreetMap&lt;/a&gt;, under &lt;a href="http://creativecommons.org/licenses/by-sa/3.0"&gt;CC BY SA&lt;/a&gt;.'</span><span class="p">,</span>
      <span class="na">maxZoom</span><span class="o">:</span> <span class="mi">18</span>
  <span class="p">}).</span><span class="na">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
</code></pre>
</div>

<p>I to wszystko, po odświeżeniu przeglądarki powinniśmy widzieć już mapę.</p>

<h2 id="dodawanie-obiektów-na-mapę">Dodawanie obiektów na mapę</h2>

<p>Teraz zaczyna się prawdziwa zabawa! Możemy zacząć dodawać różne obiekty na mapę. Jedną ważną rzecz watro tu zaznaczyć. Każdy obiekt, który będzie pojawiał się na mapie posiada swoje współrzędne (tak jak w układnie współrzędnych na Matematyce). Leaflet używa dwóch układów współrzędnych. Układu <strong>Kartezjańskiego</strong> i układu typu <strong>Szerokość-długość geograficzna</strong>. Pierwszy z nich podaje współrzędne punktu jako <code class="highlighter-rouge">[długość, szerokość]</code> a drugi jako <code class="highlighter-rouge">[szerokość, długość]</code>. Zapamiętanie, gdzie którego z tych systemów używamy jest bardzo proste. Dla obiektu <code class="highlighter-rouge">GeoJSON</code> używamy układu <strong>Kartezjańskiego</strong> dla pozostałych elementów układu <strong>Geograficznego</strong>.</p>

<h4 id="marker">Marker</h4>

<figure>
  <a href="/images/leaflet/marker.png"><img src="/images/leaflet/marker.png" /></a>
</figure>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">marker</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="na">marker</span><span class="p">([</span><span class="mf">50.28895538456755</span><span class="p">,</span> <span class="mf">18.681907653808594</span><span class="p">]).</span><span class="na">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="custom-marker">Custom marker</h4>

<figure>
  <a href="/images/leaflet/custom-marker.png"><img src="/images/leaflet/custom-marker.png" /></a>
</figure>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">customIcon</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="na">icon</span><span class="p">(</span>
  <span class="na">iconUrl</span><span class="o">:</span> <span class="s">'assets/womanonrails.jpg'</span>
  <span class="na">iconSize</span><span class="o">:</span>     <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
  <span class="na">iconAnchor</span><span class="o">:</span>   <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>
  <span class="na">className</span><span class="o">:</span> <span class="s">'round'</span>
<span class="p">)</span>

<span class="nx">customMarker</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="na">marker</span><span class="p">(</span>
  <span class="p">[</span><span class="mf">50.29391802001304</span><span class="p">,</span> <span class="mf">18.665471076965332</span><span class="p">],</span>
  <span class="na">icon</span><span class="o">:</span> <span class="nx">customIcon</span>
<span class="p">).</span><span class="na">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="html-marker">HTML marker</h4>

<figure>
  <a href="/images/leaflet/html-marker.png"><img src="/images/leaflet/html-marker.png" /></a>
</figure>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">divIcon</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="na">divIcon</span><span class="p">(</span>
  <span class="na">className</span><span class="o">:</span> <span class="s">'div-icon'</span>
  <span class="na">html</span><span class="o">:</span> <span class="s">'&lt;div&gt;This is my custom html&lt;/div&gt;'</span>
  <span class="na">iconSize</span><span class="o">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
<span class="p">)</span>

<span class="nx">L</span><span class="p">.</span><span class="na">marker</span><span class="p">([</span><span class="mf">50.2845132498121</span><span class="p">,</span> <span class="mf">18.668603897094727</span><span class="p">],</span> <span class="na">icon</span><span class="o">:</span> <span class="nx">divIcon</span><span class="p">).</span><span class="na">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="okrąg">Okrąg</h4>

<figure>
  <a href="/images/leaflet/circle.png"><img src="/images/leaflet/circle.png" /></a>
</figure>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">circle</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="na">circle</span><span class="p">(</span>
  <span class="p">[</span><span class="mf">50.290024725454515</span><span class="p">,</span> <span class="mf">18.640880584716797</span><span class="p">],</span> <span class="mi">500</span><span class="p">,</span>
  <span class="na">color</span><span class="o">:</span> <span class="s">'red'</span><span class="p">,</span>
  <span class="na">fillColor</span><span class="o">:</span> <span class="s">'#f03'</span><span class="p">,</span>
  <span class="na">fillOpacity</span><span class="o">:</span> <span class="mf">0.5</span>
<span class="p">).</span><span class="na">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="wielokąt">Wielokąt</h4>

<figure>
  <a href="/images/leaflet/poligon.png"><img src="/images/leaflet/poligon.png" /></a>
</figure>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">polygon</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="na">polygon</span><span class="p">([</span>
  <span class="p">[</span><span class="mf">50.29830444909283</span><span class="p">,</span> <span class="mf">18.61384391784668</span><span class="p">],</span>
  <span class="p">[</span><span class="mf">50.29619353058144</span><span class="p">,</span> <span class="mf">18.620710372924805</span><span class="p">],</span>
  <span class="p">[</span><span class="mf">50.29084727901576</span><span class="p">,</span> <span class="mf">18.616890907287598</span><span class="p">],</span>
  <span class="p">[</span><span class="mf">50.29125855046426</span><span class="p">,</span> <span class="mf">18.61354351043701</span><span class="p">],</span>
  <span class="p">[</span><span class="mf">50.2941373510724</span><span class="p">,</span>  <span class="mf">18.611998558044434</span><span class="p">],</span>
  <span class="p">[</span><span class="mf">50.29830444909283</span><span class="p">,</span> <span class="mf">18.61384391784668</span><span class="p">]</span>
<span class="p">]).</span><span class="na">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="popups">Popups</h4>

<figure>
  <a href="/images/leaflet/popup.png"><img src="/images/leaflet/popup.png" /></a>
</figure>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">marker</span><span class="p">.</span><span class="na">bindPopup</span><span class="p">(</span><span class="s">"&lt;b&gt;Hello world!&lt;/b&gt;&lt;br&gt;I am a popup."</span><span class="p">).</span><span class="na">openPopup</span><span class="p">()</span>
<span class="nx">circle</span><span class="p">.</span><span class="na">bindPopup</span><span class="p">(</span><span class="s">"I am a circle."</span><span class="p">)</span>
<span class="nx">polygon</span><span class="p">.</span><span class="na">bindPopup</span><span class="p">(</span><span class="s">"I am a polygon."</span><span class="p">)</span>

</code></pre>
</div>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">popup</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="na">popup</span><span class="p">()</span>
  <span class="p">.</span><span class="na">setLatLng</span><span class="p">([</span><span class="mf">51.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.09</span><span class="p">])</span>
  <span class="p">.</span><span class="na">setContent</span><span class="p">(</span><span class="s">"I am a standalone popup."</span><span class="p">)</span>
  <span class="p">.</span><span class="na">openOn</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="zdarzenia">Zdarzenia</h4>

<figure>
  <a href="/images/leaflet/event.png"><img src="/images/leaflet/event.png" /></a>
</figure>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">onMapClick</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="na">log</span> <span class="s">"Coordinate: </span><span class="si">#{</span><span class="nx">e</span><span class="p">.</span><span class="na">latlng</span><span class="si">}</span><span class="s">"</span>
<span class="nx">map</span><span class="p">.</span><span class="na">on</span><span class="p">(</span><span class="s">'click'</span><span class="p">,</span> <span class="nx">onMapClick</span><span class="p">)</span>
</code></pre>
</div>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">onMapClick</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span>
  <span class="nx">popup</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="na">popup</span><span class="p">()</span>
  <span class="nx">popup</span><span class="p">.</span><span class="na">setLatLng</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="na">latlng</span><span class="p">)</span>
  <span class="nx">popup</span><span class="p">.</span><span class="na">setContent</span><span class="p">(</span><span class="s">"You clicked the map at </span><span class="si">#{</span><span class="nx">e</span><span class="p">.</span><span class="na">latlng</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
  <span class="nx">popup</span><span class="p">.</span><span class="na">openOn</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="na">log</span> <span class="s">"Coordinate: </span><span class="si">#{</span><span class="nx">e</span><span class="p">.</span><span class="na">latlng</span><span class="si">}</span><span class="s">"</span>

<span class="nx">map</span><span class="p">.</span><span class="na">on</span><span class="p">(</span><span class="s">'click'</span><span class="p">,</span> <span class="nx">onMapClick</span><span class="p">)</span>
</code></pre>
</div>

<h4 id="geojson">GeoJSON</h4>

<p>Myślę, że <code class="highlighter-rouge">geoJson</code> jest jedną z najbardziej wszechstronnych opcji biblioteki Leaflet. Dzięki niej można wyświetlać wszystkie dotychczas poznane obiekty. Dodatkowo można w łatwy sposób zmienić style obiektów, podpinać do nich zdarzenia a także wyświetlać na mapie dane <strong>GIS</strong> bezpośrednio z bazy danych takiej jak <a href="https://www.postgresql.org/">PostgreSQL</a>.</p>

<div class="language-coffeescript highlighter-rouge"><pre class="highlight"><code><span class="nx">geoData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"type"</span><span class="o">:</span> <span class="s">"Feature"</span><span class="p">,</span>
  <span class="s">"properties"</span><span class="o">:</span> <span class="p">{},</span>
  <span class="s">"geometry"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s">"type"</span><span class="o">:</span> <span class="s">"Polygon"</span><span class="p">,</span>
    <span class="s">"coordinates"</span><span class="o">:</span> <span class="p">[[</span>
      <span class="p">[</span><span class="mf">18.613758087158203</span><span class="p">,</span> <span class="mf">50.298386690775416</span><span class="p">],</span>
      <span class="p">[</span><span class="mf">18.618135452270508</span><span class="p">,</span> <span class="mf">50.3022518894775</span><span class="p">],</span>
      <span class="p">[</span><span class="mf">18.619508743286133</span><span class="p">,</span> <span class="mf">50.302279301112605</span><span class="p">],</span>
      <span class="p">[</span><span class="mf">18.62457275390625</span><span class="p">,</span> <span class="mf">50.30570563109659</span><span class="p">],</span>
      <span class="p">[</span><span class="mf">18.62959384918213</span><span class="p">,</span> <span class="mf">50.30510261491786</span><span class="p">],</span>
      <span class="p">[</span><span class="mf">18.624873161315918</span><span class="p">,</span> <span class="mf">50.3016488295082</span><span class="p">],</span>
      <span class="p">[</span><span class="mf">18.627877235412598</span><span class="p">,</span> <span class="mf">50.3005797498622</span><span class="p">],</span>
      <span class="p">[</span><span class="mf">18.622384071350098</span><span class="p">,</span> <span class="mf">50.29600162425392</span><span class="p">],</span>
      <span class="p">[</span><span class="mf">18.613758087158203</span><span class="p">,</span> <span class="mf">50.298386690775416</span><span class="p">]</span>
    <span class="p">]]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">style</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"color"</span><span class="o">:</span> <span class="s">"#ff7800"</span><span class="p">,</span>
  <span class="s">"weight"</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s">"opacity"</span><span class="o">:</span> <span class="mf">0.65</span>
<span class="p">}</span>

<span class="nx">L</span><span class="p">.</span><span class="na">geoJson</span><span class="p">(</span><span class="nx">geoData</span><span class="p">,</span> <span class="na">style</span><span class="o">:</span> <span class="nx">style</span><span class="p">).</span><span class="na">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span>
</code></pre>
</div>

<h2 id="na-koniec">Na koniec</h2>

<p>To co pokazałam to tylko mały wycinek tego co można zrobić dzięki bibliotece <strong>Leaflet</strong>. Jeżeli szukasz bardziej zaawansowanych funkcji (jak na przykład rysowanie kształtów) zapraszam do zapoznania się z poniższymi linkami:</p>

<ul>
  <li><a href="https://leafletjs.com/">Leaflet</a></li>
  <li><a href="https://github.com/Leaflet/Leaflet.draw">Leaflet Draw</a></li>
  <li><a href="http://geojson.io/">GeoJSON</a></li>
  <li><a href="http://www.liedman.net/leaflet-routing-machine/">Leaflet Routing Machine</a></li>
  <li><a href="http://openlayers.org/">OpenLayers</a></li>
  <li><a href="https://developers.google.com/maps/documentation/javascript/?csw=1">Google Maps Javascript API</a></li>
  <li><a href="https://github.com/modestmaps/modestmaps-js">Modest Maps</a></li>
  <li><a href="https://openstreetmap.org">OpenStreetMap</a></li>
  <li><a href="https://www.microsoft.com/maps/">Bing maps</a></li>
  <li><a href="https://www.google.pl/maps?source=tldso">Google Maps</a></li>
  <li><a href="https://www.mapbox.com/">Mapbox</a></li>
  <li><a href="http://www.maptiler.com/">MapTiler</a></li>
  <li><a href="http://maps.stamen.com/">Maps Stamen</a></li>
  <li><a href="https://www.mapquest.com/">Map Quest</a></li>
  <li><a href="https://wiki.openstreetmap.org/wiki/Tiles">Tiles</a></li>
</ul>

                        <br>
                    
                    
                    <div class="entry-tags text-center">

                        <i class="icon-tags"></i>&nbsp;Tagged with <a href="https://womanonrails.com/tags/index.html#JavaScript" data-toggle="tooltip" title="Posts tagged with JavaScript" rel="tag">JavaScript</a>&nbsp;&bull;&nbsp;<a href="https://womanonrails.com/tags/index.html#GIS" data-toggle="tooltip" title="Posts tagged with GIS" rel="tag">GIS</a>

                    </div>
                    
                    </div>
        </div>
                    <footer class="post-footer entry-meta">
                        <div class="post-share text-center">
    <p class="light small">
        Share this post
    </p>
    <ul class="social-mini">
        <li>
            <a href="https://twitter.com/intent/tweet?text=&quot;Leaflet - Wstęp do map&quot;%20https://womanonrails.com/leaflet%20via%20&#64;womanonrails"
            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" data-toggle="tooltip" title="Share on Twitter" itemprop="Twitter">
                <i class="icon-twitter"></i>
            </a>
        </li>
        <li>
            <a  href="https://www.facebook.com/sharer/sharer.php?u=https://womanonrails.com/leaflet"
            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" data-toggle="tooltip" title="Share on Facebook" itemprop="Facebook">
                <i class="icon-facebook"></i>
            </a>
        </li>
        <li>
            <a href="https://plus.google.com/share?url=https://womanonrails.com/leaflet"
           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" data-toggle="tooltip" title="Share on Google plus" itemprop="GooglePlus">
                <i class="icon-google-plus"></i>
            </a>
        </li>
    </ul>
</div>
                        <div class="post-author text-center">
	        <img src="https://womanonrails.com/images/womanonrails-square.svg" alt="Agnieszka Matysek's photo" itemprop="image" class="post-avatar img-circle img-responsive"/>
	    <h4 class="bordered-bottom vcard author" itemprop="author" itemscope itemtype="https://schema.org/Person">By <span itemprop="name" class="fn"><a href="https://womanonrails.com/about" title="About Agnieszka Matysek" itemprop="url">Agnieszka Matysek</a></span></h4>
	    <p>Woman, programmer, mentor, speaker, photographer and dancer with passion.</p>
</div>

                        <div id="disqus_thread"></div><!-- /#disqus_thread -->
                    </footer>
            </article>
    </div>
</div>
<footer id="footer"  class="blog-background overlay text-center align-middle animated from-top">

    <div class="inner">
        <div class="container">

            <ul class="social-icons">
            <li>
                <a href="https://twitter.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Twitter" target="_blank" rel="noopener">
                    <i class="icon-twitter"></i>
                </a>
            </li>
            <li>
                <a href="https://facebook.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Facebook" target="_blank" rel="noopener">
                    <i class="icon-facebook"></i>
                </a>
            </li>
            <li>
                <a href="https://stackoverflow.com/users/2885676/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on StackExchange" target="_blank" rel="noopener">
                    <i class="icon-stackexchange"></i>
                </a>
            </li>
            <li>
                <a href="https://linkedin.com/in/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on LinkedIn" target="_blank" rel="noopener">
                    <i class="icon-linkedin"></i>
                </a>
            </li>
            <li>
                <a href="https://instagram.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Instagram" target="_blank" rel="noopener">
                    <i class="icon-instagram"></i>
                </a>
            </li>
            
            <li>
                <a href="https://github.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Github" target="_blank" rel="noopener">
                    <i class="icon-github"></i>
                </a>
            </li>
        </ul>
            <div>
                
                <a href="https://womanonrails.com/pl/about">Agnieszka Matysek</a> &copy; 2019 &bull; All rights reserved.
            </div>
            <ul class="menu-items">
            
            <li>
                
                    <a href="https://womanonrails.com/"><i class="icon-home"></i></a>&nbsp;&bull;
                
            </li>
            
            <li>
                
                    <a href="https://womanonrails.com/categories">Categories</a>&nbsp;&bull;
                
            </li>
            
            <li>
                
                    <a href="https://womanonrails.com/tags">Tags</a>&nbsp;&bull;
                
            </li>
            
            <li>
                
                    <a href="https://womanonrails.com/about">About</a>&nbsp;&bull;
                
            </li>
            
            <li><a href="https://womanonrails.com/feed.xml" title="Atom/RSS feed"><i class="icon-rss"></i> Feed</a></li>
        </ul>
        </div>
    </div>
    
        <div class="decor-wrapper">
            <svg id="footer-decor" class="decor top" xmlns="https://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">

                <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
                <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>

                <path class="medium left" d="M0 0 L50 50 L0 66.6" fill="rgba(255,255,255, .3)"></path>
                <path class="medium right" d="M100 0 L50 50 L100 66.6" fill="rgba(255,255,255, .3)"></path>

                <path class="small left" d="M0 0 L50 50 L0 33.3" fill="rgba(255,255,255, .5)"></path>
                <path class="small right" d="M100 0 L50 50 L100 33.3" fill="rgba(255,255,255, .5)"></path>

                <path d="M0 0 L50 50 L100 0 L0 0" fill="rgba(255,255,255, 1)"></path>

                <path d="M48 48 L50 51 L52 48 L48 48" fill="rgba(255,255,255, 1)"></path>

            </svg>
        </div>
    
</footer>
<script>
  (function(h,o,t,j,a,r){
    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
    h._hjSettings={hjid:157104,hjsv:5};
    a=o.getElementsByTagName('head')[0];
    r=o.createElement('script');r.async=1;
    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
    a.appendChild(r);
  })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="https://womanonrails.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="https://womanonrails.com/assets/js/scripts.min.js"></script>
<script type="text/javascript" src="https://womanonrails.com/assets/js/waypoints.min.js"></script>
<script type="text/javascript" src="https://womanonrails.com/assets/js/script.js"></script>
<script type='text/javascript'>$(document).ready(function(){$(".time").text(function(a,b){return Math.round(parseFloat(b))})});</script>

<script type="text/javascript">

/*      Slides       */

$("a#slide").click(function(){
    $("#sidebar,body,a#slide,#fade").addClass("slide")
});

$("#fade,#header,#posts-container").click(function(){
    $("#sidebar,body,a#slide,#fade").removeClass("slide")
});

$("a#click-filter").click(function(){
    $("#slide-filter").slideToggle("medium");
    $("#slide-pages").slideOut("medium");
});

$("a#click-pages").click(function(){
    $("#slide-pages").slideToggle("medium");
    $("#slide-filter").slideOut("medium");
});

/*      End-Slides      */

</script>


<!-- Jekyll Simple Search option -->
<script>
  $(document).ready(function() {
      $('.search-field').simpleJekyllSearch({
          jsonFile : 'https://womanonrails.com/search.json',
          searchResults : '.search-results',
          template : '<li><article><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></article></li>',
          noResults: '<p>Nothing found.</p>'
        });
  });

  (function( $, window, undefined ) {

     var bs = {
          close: $(".icon-remove-sign"),
          searchform: $(".search-form"),
          canvas: $("body"),
          dothis: $('.dosearch')
      };

    bs.dothis.on('click', function() {
      $('.search-wrapper').css({ display: "block" });
      bs.searchform.toggleClass('active');
      bs.searchform.find('input').focus();
      bs.canvas.toggleClass('search-overlay');
    });

      bs.close.on('click', function() {
        $('.search-wrapper').removeAttr( 'style' );
        bs.searchform.toggleClass('active');
        bs.canvas.removeClass('search-overlay');
    });
  })( jQuery, window );
</script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-127731573-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-127731573-1');
</script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'womanonrails'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</body>
</html>
