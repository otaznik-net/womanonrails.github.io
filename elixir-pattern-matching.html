<!DOCTYPE html>
<html>
<!--
====================================================
    __  ____  ______________  _______ ___    __
   / / / /  |/  / ____/   \ \/ / ___//   |  / /
  / /_/ / /|_/ / /_  / /| |\  /\__ \/ /| | / /
 / __  / /  / / __/ / ___ |/ /___/ / ___ |/ /___
/_/ /_/_/  /_/_/   /_/  |_/_//____/_/  |_/_____/

====================================================
Owner Name: Hossain Mohammad Faysal
Profile: https://www.facebook.com/hmfaysal
Version: 1.1
Description: Awesome dude, awesome life
====================================================
-->
<head>
<meta charset="utf-8">
<title>Pattern matching in Elixir - basics - Woman on Rails - web development from woman perspective</title>
<meta name="description" content="What I learned about Elixir so far?">
<meta name="keywords" content="Elixir">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://womanonrails.com/images/womanonrails-square.svg">
<meta name="twitter:title" content="Pattern matching in Elixir - basics">
<meta name="twitter:description" content="What I learned about Elixir so far?">
<meta name="twitter:creator" content="@womanonrails">

<!-- Open Graph -->
<meta property="og:locale" content="en">
<meta property="og:type" content="website">
<meta property="og:title" content="Pattern matching in Elixir - basics">
<meta property="og:description" content="What I learned about Elixir so far?">
<meta property="og:url" content="https://womanonrails.com/elixir-pattern-matching">
<meta property="og:site_name" content="Woman on Rails">
<meta property="og:image" content="https://womanonrails.com/images/womanonrails-1000x1000.jpg">

<!-- Icons -->
<!-- 16x16 -->
<link rel='shortcut icon' href="https://womanonrails.com/favicon.ico">
<!-- 32x32 -->
<link rel='shortcut icon' href="https://womanonrails.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel='apple-touch-icon-precomposed' href="https://womanonrails.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel='apple-touch-icon-precomposed' sizes='72x72' href="https://womanonrails.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel='apple-touch-icon-precomposed' sizes='114x114' href="https://womanonrails.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel='apple-touch-icon-precomposed' sizes='144x144' href="https://womanonrails.com/images/apple-touch-icon-144x144-precomposed.png">





<link rel="canonical" href="https://womanonrails.com/elixir-pattern-matching">
<link href="https://womanonrails.com/feed.xml" type="application/atom+xml" rel="alternate" title="Woman on Rails Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link rel="stylesheet" type="text/css" href="https://womanonrails.com/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="https://womanonrails.com/assets/css/style.css" />
    <link rel="stylesheet" href="/css/main.css">

<div class="search-wrapper">
    <div class="search-form">
        <input type="text" class="search-field" placeholder="Search...">
        <i class="icon-remove-sign"></i>
        <ul class="search-results post-list"></ul><!-- /.search-results -->
    </div><!-- /.search-form -->
</div><!-- ./search-wrapper -->



</head>
<body class="post-template" itemscope itemtype="https://schema.org/WebPage">
<div id="fade"></div>
<a id="slide" class="animated fade"></a>
<aside id="sidebar">
  <nav id="navigation">
    <h2>MENU</h2>
    <hr>
    <ul>
      
        
          <li>
            
              <a href="https://womanonrails.com/">Home</a>
            
          </li>
        
          <li>
            
              <a href="https://womanonrails.com/categories">Categories</a>
            
          </li>
        
          <li>
            
              <a href="https://womanonrails.com/tags">Tags</a>
            
          </li>
        
          <li>
            
              <a href="https://womanonrails.com/about">About</a>
            
          </li>
        
      
      <li>
        <a href="https://womanonrails.com/feed.xml" title="Atom/RSS feed">
          <i class="icon-rss"></i> Feed
        </a>
      </li>
    </ul>
    </nav>
</aside>


<header id="masthead" class="blog-background overlay align-center align-middle animated from-bottom" itemscope itemtype="https://schema.org/Organization">


    <button class="menu-button animated fade dosearch" title="Search">
        <i class="icon-search"></i>
    </button>


  
  <a href="https://womanonrails.com/pl/elixir-pattern-matching" class='language animated fade'>
    pl
  </a>


    <div class="inner">
        <div class="container">
            
            <a class="brand" href="https://womanonrails.com/" role="banner" itemprop="url">
                <img itemprop="logo" src="https://womanonrails.com/images/womanonrails-square.svg" alt="Woman on Rails Logo" />

            <h1 class="blog-title light" itemprop="name">
                Woman on Rails
            </h1>

            </a>
            <h2 class="blog-description light bordered bordered-top" itemprop="description">
                Premature optimization is the root of all evil.
            </h2>
        </div>
    </div>
    
    
    <div class="decor-wrapper">
        <svg id="header-decor" class="decor bottom" xmlns="https://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
            <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>

            <path class="medium left" d="M0 100 L50 50 L0 33.3" fill="rgba(255,255,255, .3)"></path>
            <path class="medium right" d="M100 100 L50 50 L100 33.3" fill="rgba(255,255,255, .3)"></path>

            <path class="small left" d="M0 100 L50 50 L0 66.6" fill="rgba(255,255,255, .5)"></path>
            <path class="small right" d="M100 100 L50 50 L100 66.6" fill="rgba(255,255,255, .5)"></path>

            <path d="M0 99.9 L50 49.9 L100 99.9 L0 99.9" fill="rgba(255,255,255, 1)"></path>

            <path d="M48 52 L50 49 L52 52 L48 52" fill="rgba(255,255,255, 1)"></path>

        </svg>
    </div>
    
</header>

<div id="main" class="content" role="main" itemprop="mainContentOfPage" itemscope itemtype="https://schema.org/Blog">
    <div class="container">
        <div class="row">
            <article class="post col-md-8 col-md-offset-2 hentry" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
            
            
            
            
                    <header class="post-header entry-header">
                        
                        <h1 class="post-title text-center hyper lighter bordered-bottom entry-title" itemprop="headline">Pattern matching in Elixir - basics</h1>
                        
                        <div class="cursive" style="color: #000; font-style:italic;">What I learned about Elixir so far?</div>
                        <div class="post-info text-center small">
                            <span class="entry-date date published updated"><time datetime="2019-02-20T00:00:00-05:00" class="post-time" itemprop="datePublished">20 Feb 2019</time><span>
                            in <span class="post-tags"><a href="https://womanonrails.com/categories/index.html#programming" data-toggle="tooltip" title="Other posts from the Programming category" rel="tag">Programming</a></span>&nbsp;<span class="post-tags"><i class="icon-time"></i>&nbsp;<span class="time">7.995</span> minutes read</span>
                        </div>
                    </header>
                    <div class="post-body bordered-bottom" itemprop="description">
                        
                        <p>Elixir is a functional language, created by José Valim in 2012, runs on the Erlang virtual machine. If you want to know more about Elixir, go to its <a href="https://elixir-lang.org/" title="Elixir - official website" target="_blank" rel="nofollow noopener noreferrer">official website</a>. I would like to mention one more thing. It is Rails and Ruby reference here. José is one of the members of Rails Core Team.</p>

<p>The first time when I’ve heard about Elixir, I was on Euruko 2016 in Sofia. José, before his presentation, talked a little bit about Elixir. Then I saw that Ruby community started to be more interested in Elixir. Even in Silesia, people started doing projects in Elixir and Phoenix. And in the end of 2018, I had a possibility to be a participant on first Elixir Girls in Poland. This workshop took a place in Poznan. It was a fantastic experience. I can say - mind opening. But I wouldn’t like to talk about the workshops them self. The structure is very similar to <a href="/tags/#Rails%20Girls" title="My previous Rails Girls articles">Rails Girls</a>, but you use Elixir and Phoenix instead of Ruby and Rails. I would like to show you what I really like about Eilixir - <strong>pattern matching</strong>. It provides reducing numbers of “if” statements in the code and simplify the code structure.</p>

<h3 id="basic-match-operator">Basic match operator</h3>

<p>Let’s start from the beginning. <strong>What is pattern matching?</strong> Pattern matching is checking if the code is matching to the pattern. Yes, it sounds strange. I said the same thing but in different words. Let’s imagine that we have some rules - patterns, and you just check if your code/text match to this pattern or not. Like, when you were a child and tried putting a cubic block to square hole. Sounds familiar? Did you ever use regular expressions? I wrote one of my articles about them <a href="/email-regular-expressions" title="Regular expressions - what you need to think of using them?">Regular expressions what can go wrong?</a>. Regular expressions are one of an example of pattern matching. OK, when we know more about what pattern matching is, let’s start from simple example.</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="m">4</span>
<span class="m">4</span>
</code></pre>
</div>

<p>Wait a moment it is just assignment. Well, not exactly. Not in Elixir. In Elixir <code class="highlighter-rouge">=</code> is the <strong>match operator</strong>. So we check if the left hand side expression can match to right hand side expression. This is why we can do:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="m">4</span> <span class="o">=</span> <span class="n">x</span>
<span class="m">4</span>
</code></pre>
</div>

<p>This is a valid operation. It is matched from both sides to 4. We cannot do something like that in Ruby.</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">4</span>
 <span class="o">=&gt;</span> <span class="mi">4</span>
<span class="n">irb</span><span class="o">&gt;</span> <span class="mi">4</span> <span class="o">=</span> <span class="n">x</span>
<span class="no">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="mi">1</span><span class="p">:</span> <span class="n">from</span> <span class="sr">/home/</span><span class="n">agnieszka</span><span class="o">/</span><span class="p">.</span><span class="nf">rvm</span><span class="o">/</span><span class="n">rubies</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="mi">2</span><span class="o">.</span><span class="mi">5</span><span class="o">.</span><span class="mi">3</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">irb</span><span class="p">:</span><span class="mi">11</span><span class="ss">:in</span> <span class="sb">`&lt;main&gt;'
SyntaxError ((irb):5: syntax error, unexpected '=', expecting end-of-input)
4 = x
  ^
</span></code></pre>
</div>

<p>On the other hand when we go back to Elixir and we check <code class="highlighter-rouge">5 = x</code>. We will see:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="m">5</span> <span class="o">=</span> <span class="n">x</span>
<span class="o">**</span> <span class="p">(</span><span class="no">MatchError</span><span class="p">)</span> <span class="n">no</span> <span class="n">match</span> <span class="n">of</span> <span class="n">right</span> <span class="n">hand</span> <span class="n">side</span> <span class="ss">value:</span> <span class="m">4</span>
</code></pre>
</div>

<p>Right now, comparison between left and right hand side failed. We get information about <code class="highlighter-rouge">no match</code>. The similar situation will be when we will try with unknown yet variable like <code class="highlighter-rouge">y</code>.</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="m">5</span> <span class="o">=</span> <span class="n">y</span>
<span class="o">**</span> <span class="p">(</span><span class="no">CompileError</span><span class="p">)</span> <span class="ss">iex:</span><span class="m">6</span><span class="p">:</span> <span class="n">undefined</span> <span class="n">function</span> <span class="n">y</span><span class="o">/</span><span class="m">0</span>
</code></pre>
</div>

<p>Elixir doesn’t know variable <code class="highlighter-rouge">y</code> so it’s trying to find a function with zero arguments. This expression also failed. To fulfill this expression we can do:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="m">1</span>
<span class="m">5</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="m">5</span> <span class="o">=</span> <span class="n">y</span>
<span class="m">5</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="m">5</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="m">1</span>
<span class="m">5</span>
</code></pre>
</div>

<p>It is worth to mention one more thing here. Each time you will do comparison like <code class="highlighter-rouge">x = 3</code> you will <em>overrides</em> <code class="highlighter-rouge">x</code> value. If you want to match against the current value of a variable use the <code class="highlighter-rouge">^</code> operator:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="o">^</span><span class="n">x</span> <span class="o">=</span> <span class="m">4</span>
<span class="m">4</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="o">^</span><span class="n">x</span> <span class="o">=</span> <span class="m">5</span>
<span class="o">**</span> <span class="p">(</span><span class="no">MatchError</span><span class="p">)</span> <span class="n">no</span> <span class="n">match</span> <span class="n">of</span> <span class="n">right</span> <span class="n">hand</span> <span class="n">side</span> <span class="ss">value:</span> <span class="m">5</span>
</code></pre>
</div>

<p>If you want to just check if <code class="highlighter-rouge">x</code> has specific value use <code class="highlighter-rouge">==</code> like in Ruby.</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">==</span> <span class="m">5</span>
<span class="no">false</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">==</span> <span class="m">4</span>
<span class="no">true</span>
</code></pre>
</div>

<h3 id="tuples">Tuples</h3>

<p>Let’s do the next step on more complex elements:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="p">{</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">}</span>
<span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">}</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">a</span>
<span class="m">1</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">b</span>
<span class="m">2</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="p">{</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="sd">"</span><span class="s2">one"</span><span class="p">,</span> <span class="m">2</span> <span class="p">}</span>
<span class="p">{</span><span class="sd">"</span><span class="s2">one"</span><span class="p">,</span> <span class="m">2</span><span class="p">}</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">a</span>
<span class="sd">"</span><span class="s2">one"</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">b</span>
<span class="m">2</span>
</code></pre>
</div>

<p>As you see, we can use in pattern matching more complex objects. We can also check something like that:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="p">{</span> <span class="n">a</span><span class="p">,</span> <span class="m">2</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="sd">"</span><span class="s2">one"</span><span class="p">,</span> <span class="m">2</span> <span class="p">}</span>
<span class="p">{</span><span class="sd">"</span><span class="s2">one"</span><span class="p">,</span> <span class="m">2</span><span class="p">}</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="p">{</span> <span class="n">a</span><span class="p">,</span> <span class="m">3</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="sd">"</span><span class="s2">one"</span><span class="p">,</span> <span class="m">2</span> <span class="p">}</span>
<span class="o">**</span> <span class="p">(</span><span class="no">MatchError</span><span class="p">)</span> <span class="n">no</span> <span class="n">match</span> <span class="n">of</span> <span class="n">right</span> <span class="n">hand</span> <span class="n">side</span> <span class="ss">value:</span> <span class="p">{</span><span class="sd">"</span><span class="s2">one"</span><span class="p">,</span> <span class="m">2</span><span class="p">}</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="p">{</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="sd">"</span><span class="s2">one"</span><span class="p">,</span> <span class="m">2</span> <span class="p">}</span>
<span class="o">**</span> <span class="p">(</span><span class="no">MatchError</span><span class="p">)</span> <span class="n">no</span> <span class="n">match</span> <span class="n">of</span> <span class="n">right</span> <span class="n">hand</span> <span class="n">side</span> <span class="ss">value:</span> <span class="p">{</span><span class="sd">"</span><span class="s2">one"</span><span class="p">,</span> <span class="m">2</span><span class="p">}</span>
</code></pre>
</div>

<p>We can have on the left hand side not only variables but also values. So in this case when on the left side, we don’t have 2, we get an error. We didn’t match to the pattern. The same situation is for a size of the tuple. If the side is different between sides, we also get an error.</p>

<h3 id="lists">Lists</h3>

<p>Now time to list. We can do similar things like for tuples.</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">]</span>
<span class="p">[</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">]</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">a</span>
<span class="m">4</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">b</span>
<span class="m">5</span>
</code></pre>
</div>

<p>We can do even more. We can take out the first element in the list and decrease output list by 1 element.</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">head</span> <span class="o">|</span> <span class="n">tail</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">]</span>
<span class="p">[</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">]</span>
<span class="n">iex</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">head</span>
<span class="m">4</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">tail</span>
<span class="p">[</span><span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">]</span>
</code></pre>
</div>

<p>As you see, <code class="highlighter-rouge">head</code> is the first element of our list, but <code class="highlighter-rouge">tail</code> is still list minus one element. You can play with this:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">head1</span> <span class="o">|</span> <span class="p">[</span><span class="n">head2</span> <span class="o">|</span> <span class="n">tail</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">]</span>
<span class="p">[</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">]</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">head1</span>
<span class="m">4</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">head2</span>
<span class="m">5</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">tail</span>
<span class="p">[</span><span class="m">6</span><span class="p">]</span>
</code></pre>
</div>

<p>Similar like for tuples, if we have not enough elements in the list we will get an error:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">head</span> <span class="o">|</span> <span class="n">tail</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="m">4</span><span class="p">]</span>
<span class="p">[</span><span class="m">4</span><span class="p">]</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">head</span>
<span class="m">4</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">tail</span>
<span class="p">[]</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">head</span> <span class="o">|</span> <span class="n">tail</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<span class="o">**</span> <span class="p">(</span><span class="no">MatchError</span><span class="p">)</span> <span class="n">no</span> <span class="n">match</span> <span class="n">of</span> <span class="n">right</span> <span class="n">hand</span> <span class="n">side</span> <span class="ss">value:</span> <span class="p">[]</span>
</code></pre>
</div>

<p>Using this approach we can add an element on top of a list:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">]</span>
<span class="p">[</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">]</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="p">[</span><span class="m">3</span> <span class="o">|</span> <span class="n">list</span><span class="p">]</span>
<span class="p">[</span><span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">]</span>
</code></pre>
</div>

<p>The next thing was very interesting for me. Because <code class="highlighter-rouge">'hello'</code> is <strong>char list</strong> so we can do similar things like before to this <em>text</em>. Just remember we will get integer representation of each char.</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">head1</span> <span class="o">|</span> <span class="p">[</span><span class="n">head2</span> <span class="o">|</span> <span class="n">tail</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">'hello'</span>
<span class="s1">'hello'</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">head1</span>
<span class="m">104</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">head2</span>
<span class="m">101</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">tail</span>
<span class="s1">'llo'</span>
</code></pre>
</div>

<h3 id="case">Case</h3>

<p>We use pattern matching in Elixir also in <code class="highlighter-rouge">case</code>:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="k">case</span> <span class="p">{</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">}</span> <span class="k">do</span>
<span class="o">...&gt;</span> <span class="p">{</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">}</span> <span class="o">-&gt;</span> <span class="sd">"</span><span class="s2">One"</span>
<span class="o">...&gt;</span> <span class="p">{</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="n">x</span><span class="p">}</span> <span class="o">-&gt;</span> <span class="sd">"</span><span class="s2">Two </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2">"</span>
<span class="o">...&gt;</span> <span class="n">_</span> <span class="o">-&gt;</span> <span class="sd">"</span><span class="s2">Three"</span>
<span class="o">...&gt;</span> <span class="k">end</span>
<span class="sd">"</span><span class="s2">Two 6"</span>
</code></pre>
</div>

<p>We check matching from a top. First fit is <code class="highlighter-rouge"><span class="p">{</span><span class="err">4,</span><span class="w"> </span><span class="err">5,</span><span class="w"> </span><span class="err">x</span><span class="p">}</span></code>. We even get assignment for free. If we remove the second pattern we will match to the last one. Any input data will match to <code class="highlighter-rouge">_</code>. We can also add extra condition as <strong>guards</strong>:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="k">case</span> <span class="p">{</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">}</span> <span class="k">do</span>
<span class="o">...&gt;</span> <span class="p">{</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="n">x</span><span class="p">}</span> <span class="ow">when</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="m">6</span> <span class="o">-&gt;</span> <span class="sd">"</span><span class="s2">One"</span>
<span class="o">...&gt;</span> <span class="p">{</span><span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="n">x</span><span class="p">}</span> <span class="ow">when</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="m">6</span> <span class="o">-&gt;</span> <span class="sd">"</span><span class="s2">Two </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2">"</span>
<span class="o">...&gt;</span> <span class="n">_</span> <span class="o">-&gt;</span> <span class="sd">"</span><span class="s2">Three"</span>
<span class="o">...&gt;</span> <span class="k">end</span>
<span class="sd">"</span><span class="s2">Two 6"</span>
</code></pre>
</div>

<p>Remember not all errors in guards will be discovered. Some of them will not show error, but will just fail the guards.</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="n">hd</span><span class="p">([</span><span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">])</span>
<span class="m">5</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="n">hd</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
<span class="o">**</span> <span class="p">(</span><span class="no">ArgumentError</span><span class="p">)</span> <span class="n">argument</span> <span class="n">error</span>
    <span class="ss">:erlang</span><span class="o">.</span><span class="n">hd</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
<span class="n">iex</span><span class="o">&gt;</span> <span class="k">case</span> <span class="m">5</span> <span class="k">do</span>
<span class="o">...&gt;</span> <span class="n">x</span> <span class="ow">when</span> <span class="n">hd</span><span class="p">(</span><span class="m">5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="sd">"</span><span class="s2">One"</span>
<span class="o">...&gt;</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="sd">"</span><span class="s2">Two"</span>
<span class="o">...&gt;</span> <span class="k">end</span>
<span class="sd">"</span><span class="s2">Two"</span>
</code></pre>
</div>

<h3 id="functions">Functions</h3>

<p>Finally we came to functions, where all the beauty of pattern matching will show. Starting from anonymous functions:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="n">sum</span> <span class="o">=</span> <span class="k">fn</span>
  <span class="n">x</span><span class="p">,</span> <span class="m">0</span> <span class="o">-&gt;</span> <span class="n">x</span>
  <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">when</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="m">0</span> <span class="o">-&gt;</span> <span class="o">-</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
  <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">when</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="k">end</span>

<span class="n">sum</span><span class="o">.</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>
<span class="c1">#=&gt; 3</span>
<span class="n">sum</span><span class="o">.</span><span class="p">(</span><span class="o">-</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>
<span class="c1">#=&gt; 3</span>
<span class="n">sum</span><span class="o">.</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
<span class="c1">#=&gt; 1</span>
<span class="n">sum</span><span class="o">.</span><span class="p">(</span><span class="o">-</span><span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
<span class="c1">#=&gt; -1</span>
</code></pre>
</div>

<p>We can handle many different cases in a clear way. I know this example is not a live example and we don’t cover all edge cases like <code class="highlighter-rouge">sum.(0, 1)</code>. When we look closely we can probably simplify it even more. But this is not the topic of this article. Take a look for the next example with named function:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Math</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">minus?</span><span class="p">(),</span> <span class="k">do</span><span class="p">:</span> <span class="sd">"</span><span class="s2">No number"</span>
  <span class="k">def</span> <span class="n">minus?</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="m">0</span>
  <span class="k">def</span> <span class="n">minus?</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="m">2</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="sd">"</span><span class="s2">Suprice </span><span class="si">#{</span><span class="n">x</span><span class="si">}</span><span class="s2">!"</span>
  <span class="k">def</span> <span class="n">minus?</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="m">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="m">0</span>
<span class="k">end</span>

<span class="no">Math</span><span class="o">.</span><span class="n">minus?</span>
<span class="c1">#=&gt; "No number"</span>
<span class="no">Math</span><span class="o">.</span><span class="n">minus?</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
<span class="c1">#=&gt; false</span>
<span class="no">Math</span><span class="o">.</span><span class="n">minus?</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>
<span class="c1">#=&gt; "Suprice 1!"</span>
<span class="no">Math</span><span class="o">.</span><span class="n">minus?</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>
<span class="c1">#=&gt; false</span>
<span class="no">Math</span><span class="o">.</span><span class="n">minus?</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="o">-</span><span class="m">3</span><span class="p">)</span>
<span class="c1">#=&gt; false</span>
<span class="no">Math</span><span class="o">.</span><span class="n">minus?</span><span class="p">(</span><span class="o">-</span><span class="m">1</span><span class="p">,</span> <span class="o">-</span><span class="m">3</span><span class="p">)</span>
<span class="c1">#=&gt; true</span>
</code></pre>
</div>

<p>We can declare a function with different arity. We can also use different types. We see all cases explicite. I can try to do this in Ruby using default values and checking conditions, but it will not be so readable, like declaring each version of function completely separately. In the end, I would like to stop for a moment on recursion:</p>

<div class="language-elixir highlighter-rouge"><pre class="highlight"><code><span class="k">defmodule</span> <span class="no">Math</span> <span class="k">do</span>
  <span class="k">def</span> <span class="n">sum_list</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="n">accumulator</span> <span class="p">\\</span> <span class="m">0</span><span class="p">)</span>

  <span class="k">def</span> <span class="n">sum_list</span><span class="p">([</span><span class="n">head</span> <span class="o">|</span> <span class="n">tail</span><span class="p">],</span> <span class="n">accumulator</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">sum_list</span><span class="p">(</span><span class="n">tail</span><span class="p">,</span> <span class="n">head</span> <span class="o">+</span> <span class="n">accumulator</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="n">sum_list</span><span class="p">([],</span> <span class="n">accumulator</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">accumulator</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">Math</span><span class="o">.</span><span class="n">sum_list</span><span class="p">([</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">])</span>
<span class="c1">#=&gt; 6</span>
<span class="no">Math</span><span class="o">.</span><span class="n">sum_list</span><span class="p">([</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">],</span> <span class="m">1</span><span class="p">)</span>
<span class="c1">#=&gt; 7</span>
</code></pre>
</div>

<p>Of course we can do the same with <code class="highlighter-rouge">reduce</code> in Elixir, but look at this example only from recursion perspective. We set default value for <code class="highlighter-rouge">accumulator</code> and just declare twice the same function: one with <em>braking condition</em> (last declaration) and one with <em>iteration</em>. We clearly see what is going on here. For this simple example, loop will be still readable but think about this from the potential perspective. I like this approach very much.</p>

<p>That’s it for today. I hope you had fun with Elixir the same way I had. I hope to see you soon, in my next article. Thank you for reading. Bye!</p>

                        <br>
                    
                    
                    <div class="entry-tags text-center">

                        <i class="icon-tags"></i>&nbsp;Tagged with <a href="https://womanonrails.com/tags/index.html#Elixir" data-toggle="tooltip" title="Posts tagged with Elixir" rel="tag">Elixir</a>

                    </div>
                    
                    </div>
        </div>
                    <footer class="post-footer entry-meta">
                        <div class="post-share text-center">
    <p class="light small">
        Share this post
    </p>
    <ul class="social-mini">
        <li>
            <a href="https://twitter.com/intent/tweet?text=&quot;Pattern matching in Elixir - basics&quot;%20https://womanonrails.com/elixir-pattern-matching%20via%20&#64;womanonrails"
            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" data-toggle="tooltip" title="Share on Twitter" itemprop="Twitter">
                <i class="icon-twitter"></i>
            </a>
        </li>
        <li>
            <a  href="https://www.facebook.com/sharer/sharer.php?u=https://womanonrails.com/elixir-pattern-matching"
            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" data-toggle="tooltip" title="Share on Facebook" itemprop="Facebook">
                <i class="icon-facebook"></i>
            </a>
        </li>
        <li>
            <a href="https://plus.google.com/share?url=https://womanonrails.com/elixir-pattern-matching"
           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" data-toggle="tooltip" title="Share on Google plus" itemprop="GooglePlus">
                <i class="icon-google-plus"></i>
            </a>
        </li>
    </ul>
</div>
                        <div class="post-author text-center">
	        <img src="https://womanonrails.com/images/womanonrails-square.svg" alt="Agnieszka Matysek's photo" itemprop="image" class="post-avatar img-circle img-responsive"/>
	    <h4 class="bordered-bottom vcard author" itemprop="author" itemscope itemtype="https://schema.org/Person">By <span itemprop="name" class="fn"><a href="https://womanonrails.com/about" title="About Agnieszka Matysek" itemprop="url">Agnieszka Matysek</a></span></h4>
	    <p>Woman, programmer, mentor, speaker, photographer and dancer with passion.</p>
</div>

                        <div id="disqus_thread"></div><!-- /#disqus_thread -->
                    </footer>
            </article>
    </div>
</div>
<footer id="footer"  class="blog-background overlay text-center align-middle animated from-top">

    <div class="inner">
        <div class="container">

            <ul class="social-icons">
            <li>
                <a href="https://twitter.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Twitter" target="_blank" rel="noopener">
                    <i class="icon-twitter"></i>
                </a>
            </li>
            <li>
                <a href="https://facebook.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Facebook" target="_blank" rel="noopener">
                    <i class="icon-facebook"></i>
                </a>
            </li>
            <li>
                <a href="https://stackoverflow.com/users/2885676/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on StackExchange" target="_blank" rel="noopener">
                    <i class="icon-stackexchange"></i>
                </a>
            </li>
            <li>
                <a href="https://linkedin.com/in/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on LinkedIn" target="_blank" rel="noopener">
                    <i class="icon-linkedin"></i>
                </a>
            </li>
            <li>
                <a href="https://instagram.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Instagram" target="_blank" rel="noopener">
                    <i class="icon-instagram"></i>
                </a>
            </li>
            
            <li>
                <a href="https://github.com/womanonrails" data-toggle="tooltip" title="Agnieszka Matysek on Github" target="_blank" rel="noopener">
                    <i class="icon-github"></i>
                </a>
            </li>
        </ul>
            <div>
                
                <a href="https://womanonrails.com/about">Agnieszka Matysek</a> &copy; 2019 &bull; All rights reserved.
            </div>
            <ul class="menu-items">
            
            <li>
                
                    <a href="https://womanonrails.com/"><i class="icon-home"></i></a>&nbsp;&bull;
                
            </li>
            
            <li>
                
                    <a href="https://womanonrails.com/categories">Categories</a>&nbsp;&bull;
                
            </li>
            
            <li>
                
                    <a href="https://womanonrails.com/tags">Tags</a>&nbsp;&bull;
                
            </li>
            
            <li>
                
                    <a href="https://womanonrails.com/about">About</a>&nbsp;&bull;
                
            </li>
            
            <li><a href="https://womanonrails.com/feed.xml" title="Atom/RSS feed"><i class="icon-rss"></i> Feed</a></li>
        </ul>
        </div>
    </div>
    
        <div class="decor-wrapper">
            <svg id="footer-decor" class="decor top" xmlns="https://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none">

                <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
                <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>

                <path class="medium left" d="M0 0 L50 50 L0 66.6" fill="rgba(255,255,255, .3)"></path>
                <path class="medium right" d="M100 0 L50 50 L100 66.6" fill="rgba(255,255,255, .3)"></path>

                <path class="small left" d="M0 0 L50 50 L0 33.3" fill="rgba(255,255,255, .5)"></path>
                <path class="small right" d="M100 0 L50 50 L100 33.3" fill="rgba(255,255,255, .5)"></path>

                <path d="M0 0 L50 50 L100 0 L0 0" fill="rgba(255,255,255, 1)"></path>

                <path d="M48 48 L50 51 L52 48 L48 48" fill="rgba(255,255,255, 1)"></path>

            </svg>
        </div>
    
</footer>
<script>
  (function(h,o,t,j,a,r){
    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
    h._hjSettings={hjid:157104,hjsv:5};
    a=o.getElementsByTagName('head')[0];
    r=o.createElement('script');r.async=1;
    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
    a.appendChild(r);
  })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
</script>



<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="https://womanonrails.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="https://womanonrails.com/assets/js/scripts.min.js"></script>
<script type="text/javascript" src="https://womanonrails.com/assets/js/waypoints.min.js"></script>
<script type="text/javascript" src="https://womanonrails.com/assets/js/script.js"></script>
<script type='text/javascript'>$(document).ready(function(){$(".time").text(function(a,b){return Math.round(parseFloat(b))})});</script>

<script type="text/javascript">

/*      Slides       */

$("a#slide").click(function(){
    $("#sidebar,body,a#slide,#fade").addClass("slide")
});

$("#fade,#header,#posts-container").click(function(){
    $("#sidebar,body,a#slide,#fade").removeClass("slide")
});

$("a#click-filter").click(function(){
    $("#slide-filter").slideToggle("medium");
    $("#slide-pages").slideOut("medium");
});

$("a#click-pages").click(function(){
    $("#slide-pages").slideToggle("medium");
    $("#slide-filter").slideOut("medium");
});

/*      End-Slides      */

</script>


<!-- Jekyll Simple Search option -->
<script>
  $(document).ready(function() {
      $('.search-field').simpleJekyllSearch({
          jsonFile : 'https://womanonrails.com/search.json',
          searchResults : '.search-results',
          template : '<li><article><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></article></li>',
          noResults: '<p>Nothing found.</p>'
        });
  });

  (function( $, window, undefined ) {

     var bs = {
          close: $(".icon-remove-sign"),
          searchform: $(".search-form"),
          canvas: $("body"),
          dothis: $('.dosearch')
      };

    bs.dothis.on('click', function() {
      $('.search-wrapper').css({ display: "block" });
      bs.searchform.toggleClass('active');
      bs.searchform.find('input').focus();
      bs.canvas.toggleClass('search-overlay');
    });

      bs.close.on('click', function() {
        $('.search-wrapper').removeAttr( 'style' );
        bs.searchform.toggleClass('active');
        bs.canvas.removeClass('search-overlay');
    });
  })( jQuery, window );
</script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-127731573-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-127731573-1');
</script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'womanonrails'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</body>
</html>
